(this["webpackJsonpvexere-client"]=this["webpackJsonpvexere-client"]||[]).push([[0],{169:function(e,t,a){e.exports=a(203)},174:function(e,t,a){},175:function(e,t,a){},203:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(21),o=a.n(i),c=(a(174),a(7)),l=a(8),s=a(10),m=a(9),u=a(16),p=a(27),d=(a(175),a(13)),h=a(102),g=a(66),f=a(274),E=a(3),y=a.n(E),v=a(141),b=a.n(v).a.create({baseURL:"https://vexere-happytrip.herokuapp.com/api"}),C=a(106),x=a.n(C),k=function(e){e?b.defaults.headers.common.token=e:delete b.defaults.headers.common.token},S=function(e){return function(t){return b.post("/users/login",e).then((function(e){localStorage.setItem("token",e.data.token);var a=e.data.token,n=x()(a);return t(j(n)),k(a),Promise.resolve({message:"\u0110\u0103ng nh\u1eadp th\xe0nh c\xf4ng"})})).catch((function(e){return Promise.reject({message:"\u0110\u0103ng nh\u1eadp th\u1ea5t b\u1ea1i",err:e})}))}},O=function(){return function(e){localStorage.removeItem("token"),e(j({})),k()}},j=function(e){return{type:"SET_CURRENT_USER",payload:e}},T=function(){return function(e){return b.get("/users").then((function(t){e({type:"GET_USERS",payload:t.data}),Promise.resolve(t.data)})).catch((function(e){return Promise.reject(e)}))}},_=function(e){return function(t){return b.get("users/".concat(e)).then((function(e){t({type:"GET_USERBYID",payload:e.data}),Promise.resolve(e.data)})).catch((function(e){return Promise.reject(e)}))}},w=function(e){return function(t){return b.delete("/users/".concat(e)).then((function(){t(T())}))}},N=a(114),P=a(250),I=a(12),B=a(249),L=a(95),D=a(2),M=a(143),F=a.n(M),A=a(145),G=a.n(A),H=a(146),V=a.n(H),U=a(144),Y=a.n(U),R=a(72),W={success:F.a,warning:Y.a,error:G.a,info:V.a},z=Object(R.a)((function(e){return{error:{backgroundColor:e.palette.error.dark},message:{display:"flex",alignItems:"center"}}}));function X(e){var t=z(),a=e.className,n=e.message,i=(e.onClose,e.variant),o=Object(L.a)(e,["className","message","onClose","variant"]),c=W[i];return r.a.createElement(B.a,Object.assign({className:Object(D.a)(t[i],a),"aria-describedby":"client-snackbar",message:r.a.createElement("span",{id:"client-snackbar",className:t.message},r.a.createElement(c,{className:Object(D.a)(t.icon,t.iconVariant)}),n)},o))}var K=Object(R.a)((function(e){return{margin:{margin:15,display:"inline-block",width:"40%",padding:0}}}));function Q(e){var t=K();return r.a.createElement("div",null,r.a.createElement(X,{variant:"error",className:t.margin,message:e.error}))}var J=function(e){Object(s.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).onChange=function(e){var t;n.setState((t={},Object(d.a)(t,e.target.name,e.target.value),Object(d.a)(t,"error",""),t))},n.onSubmit=function(e){e.preventDefault();var t=n.state,a=t.email,r=t.password;n.props.login({email:a,password:r}).then((function(){n.props.history.push("./")})).catch((function(e){n.setState({error:e})}))},n.state={email:"",password:"",error:""},n}return Object(l.a)(a,[{key:"render",value:function(){var e=this,t=this.state,a=t.email,n=t.password;return r.a.createElement("div",{className:" login-page"},r.a.createElement(P.a,{style:{paddingTop:100},container:!0,direction:"row",justify:"center",alignItems:"flex-end"},r.a.createElement(P.a,{item:!0,xs:8,sm:6,md:4},r.a.createElement(N.a,{style:{backgroundColor:"#dee6e5cc"}},r.a.createElement("h1",null,"Ch\xe0o m\u1eebng b\u1ea1n \u0111\u1ebfn v\u1edbi HAPPYTRIP"),r.a.createElement("h3",null,"\u0110\u0103ng nh\u1eadp"),r.a.createElement("form",{autoComplete:"off"},r.a.createElement("div",null,y.a.get(this.state,"error.err.response.data.email")&&r.a.createElement(Q,{error:y.a.get(this.state,"error.err.response.data.email","")}),r.a.createElement(f.a,{id:"email",name:"email",autoFocus:!0,color:"primary",value:a,size:"medium",label:"Email",variant:"outlined",style:{margin:"15px",width:"70%"},onChange:this.onChange})),r.a.createElement("div",null,y.a.get(this.state,"error.err.response.data.password")&&r.a.createElement(Q,{error:y.a.get(this.state,"error.err.response.data.password","")}),r.a.createElement(f.a,{id:"password",type:"password",color:"primary",name:"password",value:n,size:"medium",label:"M\u1eadt kh\u1ea9u",variant:"outlined",style:{margin:"15px",width:"70%"},onChange:this.onChange})),r.a.createElement(h.a,{type:"submit",variant:"contained",color:"primary",style:{margin:"15px"},onClick:this.onSubmit},"\u0110\u0103ng nh\u1eadp"),r.a.createElement(g.a,null,"Ch\u01b0a c\xf3 t\xe0i kho\u1ea3n ?"," ",r.a.createElement(h.a,{type:"submit",variant:"outlined",color:"secondary",style:{margin:"15px"},onClick:function(){return e.props.history.push("./signup")}},"\u0110\u0103ng k\xfd m\u1edbi")),!y.a.isEmpty(this.state.error)&&r.a.createElement(B.a,{"aria-describedby":"client-snackbar",message:r.a.createElement("span",{id:"client-snackbar"},y.a.get(this.state,"error.message"))}))))))}}]),a}(n.Component),q=Object(I.b)(null,{login:S})(J),$=function(e){Object(s.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).onChange=function(e){var t;n.setState((t={},Object(d.a)(t,e.target.name,e.target.value),Object(d.a)(t,"error",""),t))},n.onSubmit=function(e){e.preventDefault();var t=n.state,a=t.email,r=t.password,i=t.password2,o=t.fullName;n.props.signup({email:a,password:r,password2:i,fullName:o}).then((function(){n.props.login({email:a,password:r})})).then((function(){return n.props.history.push("./")})).catch((function(e){n.setState({error:e})}))},n.state={email:"",password:"",password2:"",fullName:"",error:""},n}return Object(l.a)(a,[{key:"render",value:function(){var e=this,t=this.state,a=t.email,n=t.password,i=t.password2,o=t.fullName;return r.a.createElement("div",{className:" login-page"},r.a.createElement(P.a,{style:{paddingTop:100},container:!0,direction:"row",justify:"center",alignItems:"flex-end"},r.a.createElement(P.a,{item:!0,xs:8,sm:6,md:4},r.a.createElement(N.a,{style:{backgroundColor:"#dee6e5cc"}},r.a.createElement("h1",null,"Ch\xe0o m\u1eebng b\u1ea1n \u0111\u1ebfn v\u1edbi VEXERE.COM"),r.a.createElement("h3",null,"\u0110\u0103ng k\xfd t\xe0i kho\u1ea3n m\u1edbi"),r.a.createElement("form",{autoComplete:"off"},r.a.createElement("div",null,y.a.get(this.state,"error.err.response.data.email")&&r.a.createElement(Q,{error:y.a.get(this.state,"error.err.response.data.email","")}),r.a.createElement(f.a,{id:"email",name:"email",autoFocus:!0,color:"primary",value:a,size:"medium",label:"Email",variant:"outlined",style:{margin:"15px",width:"70%"},onChange:this.onChange})),r.a.createElement("div",null,y.a.get(this.state,"error.err.response.data.password")&&r.a.createElement(Q,{error:y.a.get(this.state,"error.err.response.data.password","")}),r.a.createElement(f.a,{id:"password",type:"password",color:"primary",name:"password",value:n,size:"medium",label:"M\u1eadt kh\u1ea9u",variant:"outlined",style:{margin:"15px",width:"70%"},onChange:this.onChange})),r.a.createElement("div",null,y.a.get(this.state,"error.err.response.data.password2")&&r.a.createElement(Q,{error:y.a.get(this.state,"error.err.response.data.password2","")}),r.a.createElement(f.a,{id:"password2",type:"password",color:"primary",name:"password2",value:i,size:"medium",label:"Nh\u1eadp l\u1ea1i m\u1eadt kh\u1ea9u",variant:"outlined",style:{margin:"15px",width:"70%"},onChange:this.onChange})),r.a.createElement("div",null,y.a.get(this.state,"error.err.response.data.fullName")&&r.a.createElement(Q,{error:y.a.get(this.state,"error.err.response.data.fullName","")}),r.a.createElement(f.a,{id:"fullName",color:"primary",name:"fullName",value:o,size:"medium",label:"Nh\u1eadp h\u1ecd t\xean",variant:"outlined",style:{margin:"15px",width:"70%"},onChange:this.onChange})),r.a.createElement(h.a,{type:"submit",variant:"contained",color:"primary",style:{margin:"15px"},onClick:this.onSubmit},"\u0110\u0103ng k\xfd t\xe0i kho\u1ea3n"),r.a.createElement(g.a,null,"\u0110\xe3 c\xf3 t\xe0i kho\u1ea3n ?"," ",r.a.createElement(h.a,{type:"submit",variant:"outlined",color:"secondary",style:{margin:"15px"},onClick:function(){return e.props.history.push("./login")}},"\u0110\u0103ng nh\u1eadp ngay")),!y.a.isEmpty(this.state.error)&&r.a.createElement(B.a,{"aria-describedby":"client-snackbar",message:r.a.createElement("span",{id:"client-snackbar"},y.a.get(this.state,"error.message"))}))))))}}]),a}(n.Component),Z=Object(I.b)(null,{signup:function(e){return function(t){return b.post("/users",e).then((function(){return Promise.resolve({message:"\u0110\u0103ng k\xfd th\xe0nh c\xf4ng, vui l\xf2ng \u0111\u0103ng nh\u1eadp \u0111\u1ec3 ti\u1ebfp t\u1ee5c"})})).catch((function(e){return Promise.reject({message:"\u0110\u0103ng k\xfd kh\xf4ng th\xe0nh c\xf4ng ",err:e})}))}},login:S})($),ee=a(78),te=a(31),ae=a(51),ne=a(276),re=a(256),ie=a(257),oe=a(254),ce=a(255),le=a(258),se=a(204),me=a(147),ue=a.n(me),pe=a(149),de=a.n(pe),he=a(148),ge=a.n(he),fe=a(206),Ee=a(259),ye=a(260),ve=a(151),be=a.n(ve),Ce=a(150),xe=a.n(Ce),ke=a(153),Se=a.n(ke),Oe=a(154),je=a.n(Oe),Te=a(152),_e=a.n(Te),we=Object(R.a)((function(e){return{root:{display:"flex"},appBar:{zIndex:e.zIndex.drawer+1,transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{marginLeft:250,width:"calc(100% - ".concat(250,"px)"),transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},menuButton:{marginRight:36},hide:{display:"none"},drawer:{width:250,flexShrink:0,whiteSpace:"nowrap"},drawerOpen:{width:250,transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},drawerClose:Object(d.a)({transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),overflowX:"hidden",width:e.spacing(6)+1},e.breakpoints.up("sm"),{width:e.spacing(8)+1}),toolbar:Object(te.a)({display:"flex",alignItems:"center",justifyContent:"flex-end",padding:e.spacing(0,1)},e.mixins.toolbar),content:{flexGrow:1,padding:e.spacing(3)}}})),Ne=Object(p.g)(Object(I.b)(null,{logout:O})((function(e){var t,a,n=e.auth,i=n.isAuthenticate,o=n.profile,c=we(),l=Object(ae.a)(),s=r.a.useState(!1),m=Object(ee.a)(s,2),p=m[0],f=m[1];return r.a.createElement("div",{className:c.root},r.a.createElement(ce.a,null),r.a.createElement(re.a,{position:"fixed",className:Object(D.a)(c.appBar,Object(d.a)({},c.appBarShift,p))},r.a.createElement(ie.a,null,r.a.createElement(se.a,{color:"inherit","aria-label":"open drawer",onClick:function(){f(!0)},edge:"start",className:Object(D.a)(c.menuButton,Object(d.a)({},c.hide,p))},r.a.createElement(ue.a,null)),r.a.createElement(se.a,{onClick:function(){return e.history.push("/")}},r.a.createElement("img",{src:"https://storage.googleapis.com/fe-production/icon_vxr_full.svg",alt:"logo"})),r.a.createElement(g.a,{variant:"h6"},"Ch\xe0o m\u1eebng ",r.a.createElement(u.b,{to:"/profile",style:{textDecoration:"none"}},i?o.fullName:"")),r.a.createElement("div",{style:{marginLeft:"auto"}},r.a.createElement(h.a,{color:"inherit",onClick:function(){e.logout(),e.history.push("/")}},"\u0110\u0103ng xu\u1ea5t")))),r.a.createElement(ne.a,{variant:"permanent",className:Object(D.a)(c.drawer,(t={},Object(d.a)(t,c.drawerOpen,p),Object(d.a)(t,c.drawerClose,!p),t)),classes:{paper:Object(D.a)((a={},Object(d.a)(a,c.drawerOpen,p),Object(d.a)(a,c.drawerClose,!p),a))}},r.a.createElement("div",{className:c.toolbar},r.a.createElement(se.a,{onClick:function(){f(!1)}},"rtl"===l.direction?r.a.createElement(ge.a,null):r.a.createElement(de.a,null))),r.a.createElement(le.a,null),r.a.createElement(oe.a,{component:"nav"},r.a.createElement(fe.a,{button:!0,onClick:function(){return e.history.push("/manager/trips")}},r.a.createElement(Ee.a,null,r.a.createElement(xe.a,null)),r.a.createElement(ye.a,{primary:"QU\u1ea2N L\xdd CHUY\u1ebeN \u0110I"})),r.a.createElement(fe.a,{button:!0,onClick:function(){return e.history.push("/manager/stations")}},r.a.createElement(Ee.a,null,r.a.createElement(be.a,null)),r.a.createElement(ye.a,{primary:"QU\u1ea2N L\xdd B\u1ebeN XE"})),r.a.createElement(fe.a,{button:!0,onClick:function(){return e.history.push("/manager/companies")}},r.a.createElement(Ee.a,null,r.a.createElement(_e.a,null)),r.a.createElement(ye.a,{primary:"QU\u1ea2N L\xdd NH\xc0 XE"})),r.a.createElement(fe.a,{button:!0,onClick:function(){return e.history.push("/manager/tickets")}},r.a.createElement(Ee.a,null,r.a.createElement(Se.a,null)),r.a.createElement(ye.a,{primary:"QU\u1ea2N L\xdd V\xc9 XE"})),r.a.createElement(fe.a,{button:!0,onClick:function(){return e.history.push("/manager/users")}},r.a.createElement(Ee.a,null,r.a.createElement(je.a,null)),r.a.createElement(ye.a,{primary:"QU\u1ea2N L\xdd NG\u01af\u1edcI D\xd9NG"})))),r.a.createElement("main",{className:c.content},r.a.createElement("div",{className:c.toolbar}),r.a.createElement(g.a,{paragraph:!0})))}))),Pe=function(e){Object(s.a)(a,e);var t=Object(m.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){var e=this,t=this.props.auth,a=t.isAuthenticate,n=t.profile;return r.a.createElement("div",null,r.a.createElement(re.a,{position:"static"},r.a.createElement(ie.a,null,r.a.createElement(se.a,{onClick:function(){return e.props.history.push("/")}},r.a.createElement("img",{src:"https://storage.googleapis.com/fe-production/icon_vxr_full.svg",alt:"logo"})),r.a.createElement(g.a,{variant:"h6"},"Ch\xe0o m\u1eebng ",r.a.createElement(u.b,{to:"/profile",style:{textDecoration:"none"}},a?n.fullName:"")),a&&r.a.createElement("div",{style:{marginLeft:"auto"}},r.a.createElement(h.a,{color:"inherit",onClick:function(){e.props.logout(),e.props.history.push("/")}},"\u0110\u0103ng xu\u1ea5t")))))}}]),a}(n.Component),Ie=Object(p.g)(Object(I.b)(null,{logout:O})(Pe)),Be=function(){var e=localStorage.getItem("token");if(!e)return!1;var t=x()(e);return!(t.exp<(new Date).getTime()/1e3)&&{token:e,decoded:t}},Le=function(e){var t=e.component,a=Object(L.a)(e,["component"]);return r.a.createElement(p.b,Object.assign({},a,{render:function(e){return Be()&&"admin"===Be().decoded.userType?r.a.createElement(t,e):r.a.createElement(p.a,{to:{pathname:"/notfound",state:{from:e.location}}})}}))},De=function(e){var t=e.component,a=Object(L.a)(e,["component"]);return r.a.createElement(p.b,Object.assign({},a,{render:function(e){return Be()&&"client"===Be().decoded.userType?r.a.createElement(t,e):r.a.createElement(p.a,{to:{pathname:"/notfound",state:{from:e.location}}})}}))},Me=a(262),Fe=a(264),Ae=a(263),Ge=a(261),He=function(e){Object(s.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).classes={card:{minWidth:275,margin:20},title:{color:"#6b8a78"},link:{color:"#767b06d6",textDecoration:"none",fontSize:"16px"},image:{width:200,height:160},img:{margin:"auto",display:"block",maxWidth:"100%",maxHeight:"100%"}},e}return Object(l.a)(a,[{key:"render",value:function(){var e=this,t=this.props.user;return r.a.createElement(Ge.a,{maxWidth:"md"},r.a.createElement("h2",{className:"title_addnew"},"TH\xd4NG TIN T\xc0I KHO\u1ea2N"),r.a.createElement(Me.a,{style:this.classes.card},r.a.createElement(Ae.a,null,r.a.createElement(P.a,{container:!0,direction:"row",justify:"space-evenly",alignItems:"flex-start"},r.a.createElement(g.a,{variant:"h5",style:this.classes.title,gutterBottom:!0},y.a.get(t,"fullName")),r.a.createElement(g.a,{color:"textSecondary"},"Email : ",y.a.get(t,"email")))),r.a.createElement(Fe.a,null,r.a.createElement(h.a,{color:"primary",variant:"contained",style:{marginLeft:"auto"},onClick:function(){return e.props.history.push("/updateprofile")}},"C\u1eadp nh\u1eadt th\xf4ng tin"),r.a.createElement(h.a,{variant:"contained",onClick:function(){return e.props.history.push("./")}},"Tr\u1edf v\u1ec1"))))}}]),a}(n.Component),Ve=Object(I.b)((function(e){return{user:e.auth.profile}}),{getUserById:_,deleteUser:w})(He),Ue=function(e){Object(s.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).onChange=function(e){var t;n.setState((t={},Object(d.a)(t,e.target.name,e.target.value),Object(d.a)(t,"error",""),t))},n.onSubmit=function(e){e.preventDefault();var t=n.state,a=t.email,r=t.password,i=t.password2,o=t.fullName;n.props.updateUser({email:a,password:r,password2:i,fullName:o}).then((function(){n.props.history.push("/profile")})).catch((function(e){n.setState({error:e})}))},n.state={email:"",password:"",password2:"",fullName:"",error:""},n}return Object(l.a)(a,[{key:"componentDidMount",value:function(){this.setState({email:this.props.user.email,fullName:this.props.user.fullName})}},{key:"render",value:function(){var e=this,t=this.state,a=t.email,n=t.password,i=t.password2,o=t.fullName;return r.a.createElement(P.a,{style:{paddingTop:100},container:!0,direction:"row",justify:"center",alignItems:"flex-end"},r.a.createElement(P.a,{item:!0,xs:8,sm:6,md:4},r.a.createElement("h2",{className:"title_addnew"},"C\u1eacP NH\u1eacT TH\xd4NG TIN T\xc0I KHO\u1ea2N"),r.a.createElement("form",{autoComplete:"off"},r.a.createElement("div",null,y.a.get(this.state,"error.response.data.email")&&r.a.createElement(Q,{error:y.a.get(this.state,"error.response.data.email","")}),r.a.createElement(f.a,{id:"email",name:"email",autoFocus:!0,color:"primary",value:a,size:"medium",label:"Email",variant:"outlined",style:{margin:"15px",width:"70%"},onChange:this.onChange})),r.a.createElement("div",null,y.a.get(this.state,"error.response.data.password")&&r.a.createElement(Q,{error:y.a.get(this.state,"error.response.data.password","")}),y.a.get(this.state,"error.response.data.message")&&r.a.createElement(Q,{error:y.a.get(this.state,"error.response.data.message","")}),r.a.createElement(f.a,{id:"password",type:"password",color:"primary",name:"password",value:n,size:"medium",label:"M\u1eadt kh\u1ea9u c\u0169",variant:"outlined",style:{margin:"15px",width:"70%"},onChange:this.onChange})),r.a.createElement("div",null,y.a.get(this.state,"error.response.data.password2")&&r.a.createElement(Q,{error:y.a.get(this.state,"error.response.data.password2","")}),r.a.createElement(f.a,{id:"password2",type:"password",color:"primary",name:"password2",value:i,size:"medium",label:"M\u1eadt kh\u1ea9u m\u1edbi",variant:"outlined",style:{margin:"15px",width:"70%"},onChange:this.onChange})),r.a.createElement("div",null,y.a.get(this.state,"error.response.data.fullName")&&r.a.createElement(Q,{error:y.a.get(this.state,"error.response.data.fullName","")}),r.a.createElement(f.a,{id:"fullName",color:"primary",name:"fullName",value:o,size:"medium",label:"Nh\u1eadp h\u1ecd t\xean",variant:"outlined",style:{margin:"15px",width:"70%"},onChange:this.onChange})),r.a.createElement(h.a,{type:"submit",variant:"contained",color:"primary",style:{margin:"15px"},onClick:this.onSubmit},"L\u01b0u thay \u0111\u1ed5i"),r.a.createElement(h.a,{type:"submit",variant:"contained",style:{margin:"15px"},onClick:function(){return e.props.history.push("/profile")}},"H\u1ee7y"))))}}]),a}(n.Component),Ye=Object(I.b)((function(e){return{user:e.auth.profile}}),{updateUser:function(e){return function(t){return b.put("/users/updatemyprofile",e).then((function(e){t({type:"SET_CURRENT_USER",payload:e.data}),Promise.resolve(e.data)})).catch((function(e){return Promise.reject(e)}))}}})(Ue),Re=a(207),We=a(209),ze=a(208),Xe=a(266),Ke=a(265);function Qe(e){var t=r.a.useState(!1),a=Object(ee.a)(t,2),n=a[0],i=a[1],o=function(){i(!1)};return r.a.createElement("div",null,r.a.createElement(h.a,{size:"small",variant:"contained",color:"secondary",onClick:function(){i(!0)}},"X\xf3a ".concat(e.type)),r.a.createElement(Re.a,{open:n,onClose:o,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},r.a.createElement(Ke.a,{id:"alert-dialog-title"},"B\u1ea1n c\xf3 ch\u1eafc ch\u1eafn mu\u1ed1n x\xf3a ".concat(e.type)),r.a.createElement(ze.a,null,r.a.createElement(Xe.a,{id:"alert-dialog-description"},"Th\xf4ng tin ".concat(e.type," s\u1ebd b\u1ecb x\xf3a v\xe0 kh\xf4ng th\u1ec3 kh\xf4i ph\u1ee5c \u0111\u01b0\u1ee3c"))),r.a.createElement(We.a,null,r.a.createElement(h.a,{onClick:o,color:"primary"},"H\u1ee7y"),r.a.createElement(h.a,{onClick:function(){o(),e.deleteAction(e.id)},color:"primary",autoFocus:!0},"X\xe1c nh\u1eadn"))))}var Je=Object(R.a)({card:{minWidth:275,margin:20},title:{color:"#c9620f",textDecoration:"none",fontSize:"24px"},link:{color:"#0b6077d6",textDecoration:"none",fontSize:"16px"},image:{width:200,height:160},img:{margin:"auto",display:"block",maxWidth:"100%",maxHeight:"100%"}}),qe=Object(p.g)((function(e){var t=Je(),a=e.user;return r.a.createElement(Me.a,{className:t.card},r.a.createElement(Ae.a,null,r.a.createElement(P.a,{container:!0,direction:"row",justify:"space-evenly",alignItems:"flex-start"},r.a.createElement(u.b,{to:"/manager/users/".concat(a._id),className:t.title},"H\u1ecd t\xean: ",a.fullName),r.a.createElement(g.a,{variant:"h6",gutterBottom:!0},"Email: ",a.email))),r.a.createElement(Fe.a,null,r.a.createElement("div",{style:{marginLeft:"auto"}},r.a.createElement(Qe,{id:a._id,deleteAction:e.deleteUser,type:"Ng\u01b0\u1eddi d\xf9ng"}))))})),$e=function(e){Object(s.a)(a,e);var t=Object(m.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"componentDidMount",value:function(){this.props.getUsers()}},{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement(ce.a,null),r.a.createElement(Ge.a,{maxWidth:"md"},r.a.createElement("h1",{className:"title_addnew"},"QU\u1ea2N L\xdd NG\u01af\u1edcI D\xd9NG"),this.props.users.filter((function(e){return"client"===e.userType})).map((function(t,a){return r.a.createElement(qe,{user:t,key:a,deleteUser:e.props.deleteUser})}))))}}]),a}(n.Component),Ze=Object(I.b)((function(e){return{users:e.users}}),{getUsers:T,deleteUser:w})($e),et=a(29),tt=a.n(et),at=a(41),nt=function(){return function(e){return b.get("/tickets").then((function(t){e({type:"GET_TICKETS",payload:t.data}),Promise.resolve(t.data)})).catch((function(e){return Promise.reject(e)}))}},rt=function(e){return function(t){return b.post("/tickets/booking",e).then((function(e){t({type:"CREATE_TICKET",payload:e.data}),Promise.resolve(e.data)})).catch((function(e){return Promise.reject(e)}))}},it=function(){return function(e){e({type:"CANCEL_BOOKING"})}},ot=function(e){return function(t){b.delete("/tickets/".concat(e)).then((function(){t(nt())}))}},ct=a(55),lt=function(e){Object(s.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).classes=ct,n.deleteUser=function(e){n.props.deleteUser(e),n.props.history.push("./")},n.componentDidMount=Object(at.a)(tt.a.mark((function e(){var t;return tt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.props.match.params.id,e.next=3,n.props.getUserById(t);case 3:return e.next=5,n.props.getTickets();case 5:return e.next=7,n.setState({user:n.props.userEditing,tickets:n.props.tickets});case 7:case"end":return e.stop()}}),e)}))),n.state={user:{},tickets:[]},n}return Object(l.a)(a,[{key:"render",value:function(){var e=this,t=this.state,a=t.user,n=t.tickets;return r.a.createElement(Ge.a,null,r.a.createElement(Me.a,{style:this.classes.card},r.a.createElement(Ae.a,null,r.a.createElement(P.a,{container:!0,direction:"row",justify:"space-evenly",alignItems:"flex-start"},r.a.createElement(P.a,{item:!0,md:6},r.a.createElement(g.a,{variant:"h5",style:this.classes.title,gutterBottom:!0},y.a.get(a,"fullName")),r.a.createElement(g.a,{color:"textSecondary"},"Email : ",y.a.get(a,"email"))),r.a.createElement(P.a,{item:!0,md:6},r.a.createElement(g.a,{color:"textSecondary"},"M\xe3 v\xe9 xe \u0111\xe3 \u0111\u1eb7t :"," ",n.filter((function(e){return e.userId._id===a._id})).map((function(e,t){return r.a.createElement(u.b,{key:t,to:"/manager/tickets/".concat(e._id),style:ct.link},e._id)})))))),r.a.createElement(Fe.a,null,r.a.createElement(h.a,{variant:"contained",style:{marginLeft:"auto"},onClick:function(){return e.props.history.push("./")}},"Tr\u1edf v\u1ec1"),r.a.createElement(Qe,{id:y.a.get(a,"_id"),deleteAction:this.deleteUser,type:"Ng\u01b0\u1eddi d\xf9ng"}))))}}]),a}(n.Component),st=Object(I.b)((function(e){return{userEditing:e.layout.userEditing,tickets:e.tickets}}),{getUserById:_,deleteUser:w,getTickets:nt})(lt),mt=a(28);function ut(e){var t,a=e.split("");for(var n=0;n<a.length;n++)a[n]=(t=a[n].toLowerCase(),t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=t.replace(/\xe0|\xe1|\u1ea1|\u1ea3|\xe3|\xe2|\u1ea7|\u1ea5|\u1ead|\u1ea9|\u1eab|\u0103|\u1eb1|\u1eaf|\u1eb7|\u1eb3|\u1eb5/g,"a")).replace(/\xe8|\xe9|\u1eb9|\u1ebb|\u1ebd|\xea|\u1ec1|\u1ebf|\u1ec7|\u1ec3|\u1ec5/g,"e")).replace(/\xec|\xed|\u1ecb|\u1ec9|\u0129/g,"i")).replace(/\xf2|\xf3|\u1ecd|\u1ecf|\xf5|\xf4|\u1ed3|\u1ed1|\u1ed9|\u1ed5|\u1ed7|\u01a1|\u1edd|\u1edb|\u1ee3|\u1edf|\u1ee1/g,"o")).replace(/\xf9|\xfa|\u1ee5|\u1ee7|\u0169|\u01b0|\u1eeb|\u1ee9|\u1ef1|\u1eed|\u1eef/g,"u")).replace(/\u1ef3|\xfd|\u1ef5|\u1ef7|\u1ef9/g,"y")).replace(/\u0111/g,"d")).replace(/!|@|%|\^|\*|\(|\)|=|<|>|\?|\/|,|\.|:|;|'|'|&|#|\[|\]|~|$|_/g,"-")).replace(/-+-,/g,"-")).replace(/^-+|-+$/g,"")).replace(/\s+/g,"-")).toUpperCase();return a.join("").replace(/-+/g,"")}var pt=a(267),dt=a(253),ht=a(271),gt=a(272),ft=a(251),Et=a(275),yt=function(){return function(e){return b.get("/stations").then((function(t){e({type:"GET_STATIONS",payload:t.data}),Promise.resolve(t.data)})).catch((function(e){return Promise.reject(e)}))}},vt=function(e){return function(t){return b.get("/stations/".concat(e)).then((function(e){t({type:"GET_STATIONBYID",payload:e.data}),Promise.resolve(e.data)})).catch((function(e){return Promise.reject(e)}))}},bt=function(e){return function(t){return b.delete("/stations/".concat(e)).then((function(){t(yt())}))}},Ct=function(){return function(e){return b.get("/companies").then((function(t){e({type:"GET_COMPANIES",payload:t.data}),Promise.resolve(t.data)})).catch((function(e){return Promise.reject(e)}))}},xt=function(e){return function(t){return b.get("/companies/".concat(e)).then((function(e){t({type:"GET_COMPANYBYID",payload:e.data}),Promise.resolve(e.data)})).catch((function(e){return Promise.reject(e)}))}},kt=function(e){return function(t){return b.get("/companies/".concat(e.fromStation,"/").concat(e.toStation)).then((function(e){t({type:"GET_ADVICECOMPANY",payload:e.data}),Promise.resolve(e.data)})).catch((function(e){return Promise.reject(e)}))}},St=function(e){return function(t){return b.delete("/companies/".concat(e)).then((function(){t(Ct())}))}},Ot=a(124),jt=Object(p.g)((function(e){var t=Je(),a=e.station;return r.a.createElement(Me.a,{className:t.card},r.a.createElement(Ae.a,null,r.a.createElement(P.a,{container:!0,direction:"row",justify:"space-evenly",alignItems:"flex-start"},r.a.createElement(P.a,{item:!0,md:6},r.a.createElement(u.b,{to:"/manager/stations/".concat(a._id),className:t.title},a.name),r.a.createElement(g.a,{color:"textSecondary"},"\u0110\u1ecba ch\u1ec9 : ",a.address),r.a.createElement(g.a,{color:"textSecondary"},"T\u1ec9nh : ",a.province),r.a.createElement(Ot.a,{className:t.image},r.a.createElement("img",{className:t.img,alt:"complex",src:a.image?a.image:"https://upload.wikimedia.org/wikipedia/vi/1/1a/Nh%C3%A0_ga_b%E1%BA%BFn_xe_mi%E1%BB%81n_%C4%90%C3%B4ng.JPG"}))),r.a.createElement(P.a,{item:!0,md:6},r.a.createElement(g.a,{variant:"h6",color:"textPrimary"},"Danh s\xe1ch nh\xe0 xe :"," ",a.companies.map((function(e,a){return r.a.createElement(g.a,{key:a,color:"textSecondary"},r.a.createElement(u.b,{to:"/manager/companies/".concat(e._id),className:t.link},e.name))})))))),r.a.createElement(Fe.a,null,r.a.createElement(h.a,{size:"small",variant:"contained",style:{marginLeft:"auto"},onClick:function(){return e.history.push("/manager/stations/".concat(a._id,"/editstation"))}},"Ch\u1ec9nh s\u1eeda"),r.a.createElement(Qe,{id:a._id,deleteAction:e.deleteStation,type:"B\u1ebfn xe"})))})),Tt=a(277),_t={PaperProps:{style:{maxHeight:300,width:300}}},wt=function(e){Object(s.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).onChange=function(e){n.setState(Object(d.a)({},e.target.name,e.target.value))},n.cancelFilter=function(){n.setState({companiesFilter:[],provinceFilter:[]})},n.state={stationName:"",List:[],provinceList:[],companiesFilter:[],provinceFilter:[]},n}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.props.getStations(),this.props.getCompanies().then((function(){e.setState({List:e.props.companies,provinceList:y.a.uniq(e.props.stations.map((function(e){return e.province})))})}))}},{key:"render",value:function(){var e=this,t=this.state,a=t.stationName,n=t.List,i=t.companiesFilter,o=t.provinceList,c=t.provinceFilter,l=[],s=this.props.stations;s.filter((function(e){return ut(e.name).indexOf(ut(a))>-1&&(l=[].concat(Object(mt.a)(l),[e])),e}));var m=s.filter((function(e){return i.every((function(t){return e.companies.map((function(e){return e._id})).indexOf(t)>-1}))})),u=[];u=c.length>0?s.filter((function(e){return c.indexOf(e.province)>-1})):s;var p=y.a.intersection(m,u,l);return r.a.createElement(r.a.Fragment,null,r.a.createElement(ce.a,null),r.a.createElement("h1",{className:"title_addnew"},"QU\u1ea2N L\xdd B\u1ebeN XE"),r.a.createElement(h.a,{variant:"contained",color:"primary",onClick:function(){return e.props.history.push("/manager/stations/addstation")}},"Th\xeam B\u1ebfn xe"),r.a.createElement(P.a,{container:!0,direction:"row",justify:"space-evenly",alignItems:"flex-start"},r.a.createElement(P.a,{item:!0,md:2}),r.a.createElement(P.a,{item:!0,md:3},r.a.createElement(Me.a,null,r.a.createElement("h2",{className:"title_addnew"},"B\u1ed8 L\u1eccC & T\xccM KI\u1ebeM"),r.a.createElement("h3",{className:"title_addnew"},"T\u1ed5ng s\u1ed1 k\u1ebft qu\u1ea3 : ".concat(p.length)),r.a.createElement(h.a,{style:{justifyContent:"center"},variant:"contained",onClick:function(){return e.cancelFilter()}},"H\u1ee7y"),r.a.createElement(Ae.a,null,r.a.createElement(f.a,{id:"stationName",name:"stationName",value:a,label:"T\xecm theo t\xean b\u1ebfn xe",variant:"outlined",style:{margin:"15px",width:"80%"},onChange:this.onChange}),r.a.createElement(dt.a,{style:{margin:"15px",width:"80%"}},r.a.createElement(Et.a,null,"Nh\xe0 xe"),r.a.createElement(ht.a,{multiple:!0,name:"companiesFilter",value:i,onChange:this.onChange,input:r.a.createElement(ft.a,null),renderValue:function(e){return r.a.createElement("div",{style:{display:"flex",flexWrap:"wrap"}},n.filter((function(t){return e.indexOf(t._id)>-1})).map((function(e){return r.a.createElement(Tt.a,{key:e._id,label:e.name,style:{margin:2}})})))},MenuProps:_t},n.map((function(e){return r.a.createElement(pt.a,{key:e._id,value:e._id},r.a.createElement(gt.a,{checked:i.indexOf(e._id)>-1}),r.a.createElement(ye.a,{primary:e.name}))})))),r.a.createElement(dt.a,{style:{margin:"15px",width:"80%"}},r.a.createElement(Et.a,null,"T\u1ec9nh/th\xe0nh"),r.a.createElement(ht.a,{multiple:!0,name:"provinceFilter",value:c,onChange:this.onChange,input:r.a.createElement(ft.a,null),renderValue:function(e){return r.a.createElement("div",{style:{display:"flex",flexWrap:"wrap"}},e.map((function(e){return r.a.createElement(Tt.a,{key:e,label:e,style:{margin:2}})})))},MenuProps:_t},o.map((function(e){return r.a.createElement(pt.a,{key:e,value:e},r.a.createElement(gt.a,{checked:c.indexOf(e)>-1}),r.a.createElement(ye.a,{primary:e}))}))))))),r.a.createElement(P.a,{item:!0,md:7},p.map((function(t,a){return r.a.createElement(jt,{station:t,key:a,getStationById:e.props.getStationById})})))))}}]),a}(n.Component),Nt=Object(I.b)((function(e){return{stations:e.stations,companies:e.companies}}),{getStations:yt,getCompanies:Ct,deleteStation:bt})(wt),Pt={PaperProps:{style:{maxHeight:300,width:300}}},It=function(e){Object(s.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).onChange=function(e){n.setState(Object(d.a)({},e.target.name,e.target.value))},n.onSubmit=function(e){e.preventDefault();var t=n.state,a={name:t.name,province:t.province,address:t.address,companies:t.companies,image:t.image};n.props.createStation(a).then((function(){return n.props.history.push("./")})).catch((function(e){n.setState({error:e})}))},n.state={name:"",province:"",address:"",image:"",companies:[],List:[],error:{}},n}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.props.getCompanies().then((function(){e.setState({List:e.props.companies})}))}},{key:"render",value:function(){var e=this,t=this.state,a=t.name,n=t.address,i=t.province,o=t.companies,c=t.image,l=t.List;return r.a.createElement("div",{className:"add_station"},r.a.createElement("h1",{className:"title_addnew"},"Th\xeam B\u1ebfn xe"),r.a.createElement("form",{autoComplete:"off",onSubmit:this.onSubmit},r.a.createElement("div",null,y.a.get(this.state,"error.response.data.name")&&r.a.createElement(Q,{error:y.a.get(this.state,"error.response.data.name","")}),r.a.createElement(f.a,{id:"name",name:"name",value:a,label:"T\xean B\u1ebfn xe",variant:"outlined",style:{margin:"15px",width:"40%"},onChange:this.onChange})),r.a.createElement("div",null,y.a.get(this.state,"error.response.data.address")&&r.a.createElement(Q,{error:y.a.get(this.state,"error.response.data.address","")}),r.a.createElement(f.a,{id:"address",name:"address",value:n,label:" \u0110\u1ecba ch\u1ec9",variant:"outlined",style:{margin:"15px",width:"40%"},onChange:this.onChange})),r.a.createElement("div",null,y.a.get(this.state,"error.response.data.province")&&r.a.createElement(Q,{error:y.a.get(this.state,"error.response.data.province","")}),r.a.createElement(f.a,{id:"province",name:"province",value:i,label:"T\u1ec9nh/ Th\xe0nh ph\u1ed1",variant:"outlined",style:{margin:"15px",width:"40%"},onChange:this.onChange})),r.a.createElement("div",null,r.a.createElement(f.a,{id:"image",name:"image",value:c,label:"Link h\xecnh \u1ea3nh",variant:"outlined",style:{margin:"15px",width:"40%"},onChange:this.onChange})),r.a.createElement("div",null,r.a.createElement(dt.a,{style:{margin:"15px",width:"40%"}},r.a.createElement(Et.a,null,"Ch\u1ecdn Nh\xe0 xe"),r.a.createElement(ht.a,{multiple:!0,name:"companies",value:o,onChange:this.onChange,input:r.a.createElement(ft.a,null),renderValue:function(e){return r.a.createElement("div",{style:{display:"flex",flexWrap:"wrap"}},l.filter((function(t){return e.indexOf(t._id)>-1})).map((function(e){return r.a.createElement(Tt.a,{key:e._id,label:e.name,style:{margin:2}})})))},MenuProps:Pt},l.map((function(e){return r.a.createElement(pt.a,{key:e._id,value:e._id},r.a.createElement(gt.a,{checked:o.indexOf(e._id)>-1}),r.a.createElement(ye.a,{primary:e.name}))}))))),r.a.createElement(h.a,{type:"submit",variant:"contained",color:"primary",style:{margin:"15px"},onClick:function(){return e.onSubmit}},"L\u01b0u"),r.a.createElement(h.a,{variant:"contained",style:{margin:"15px"},onClick:function(){return e.props.history.push("./")}},"H\u1ee7y")))}}]),a}(n.Component),Bt=Object(I.b)((function(e){return{companies:e.companies}}),{createStation:function(e){return function(t){return b.post("/stations",e).then((function(e){t({type:"CREATE_STATION",payload:e.data}),Promise.resolve(e.data)})).catch((function(e){return Promise.reject(e)}))}},getCompanies:Ct})(It),Lt={PaperProps:{style:{maxHeight:300,width:300}}},Dt=function(e){Object(s.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).onChange=function(e){n.setState(Object(d.a)({},e.target.name,e.target.value))},n.onSubmit=function(e){e.preventDefault();var t=n.state,a={name:t.name,province:t.province,address:t.address,image:t.image,companies:t.companies,_id:t._id};n.props.updateStation(a).then((function(){return n.props.history.push("/manager/stations")})).catch((function(e){n.setState({error:e})}))},n.state={name:"",province:"",address:"",image:"",companies:[],List:[],error:{},_id:""},n}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=this.props.match.params.id;this.props.getCompanies().then((function(){e.setState({List:e.props.companies})})),this.props.getStationById(t).then((function(){var t=e.props.stationEditing,a=t.companies.map((function(e){return e._id}));e.setState({name:t.name,province:t.province,address:t.address,image:t.image,_id:t._id,companies:a})})).catch((function(e){return console.log(e)}))}},{key:"render",value:function(){var e=this,t=this.state,a=t.name,n=t.address,i=t.province,o=t.image,c=t.companies,l=t.List;return r.a.createElement("div",{className:"add_station"},r.a.createElement("h1",{className:"title_addnew"}," CH\u1ec8NH S\u1eecA B\u1ebeN XE"),r.a.createElement("form",{autoComplete:"off",onSubmit:this.onSubmit},r.a.createElement("div",null,y.a.get(this.state,"error.response.data.name")&&r.a.createElement(Q,{error:y.a.get(this.state,"error.response.data.name","")}),r.a.createElement(f.a,{id:"name",name:"name",value:a,label:"T\xean B\u1ebfn xe",variant:"outlined",style:{margin:"15px",width:"40%"},onChange:this.onChange})),r.a.createElement("div",null,y.a.get(this.state,"error.response.data.address")&&r.a.createElement(Q,{error:y.a.get(this.state,"error.response.data.address","")}),r.a.createElement(f.a,{id:"address",name:"address",value:n,label:"\u0110\u1ecba ch\u1ec9",variant:"outlined",style:{margin:"15px",width:"40%"},onChange:this.onChange})),r.a.createElement("div",null,y.a.get(this.state,"error.response.data.province")&&r.a.createElement(Q,{error:y.a.get(this.state,"error.response.data.province","")}),r.a.createElement(f.a,{id:"province",name:"province",value:i,label:"T\u1ec9nh/ Th\xe0nh ph\u1ed1",variant:"outlined",style:{margin:"15px",width:"40%"},onChange:this.onChange})),r.a.createElement("div",null,r.a.createElement(f.a,{id:"image",name:"image",value:o,label:"Link h\xecnh \u1ea3nh",variant:"outlined",style:{margin:"15px",width:"40%"},onChange:this.onChange})),r.a.createElement("div",null,r.a.createElement(dt.a,{style:{margin:"15px",width:"40%"}},r.a.createElement(Et.a,null,"Ch\u1ecdn Nh\xe0 xe"),r.a.createElement(ht.a,{multiple:!0,name:"companies",value:c,onChange:this.onChange,input:r.a.createElement(ft.a,null),renderValue:function(e){return r.a.createElement("div",{style:{display:"flex",flexWrap:"wrap"}},l.filter((function(t){return e.indexOf(t._id)>-1})).map((function(e){return r.a.createElement(Tt.a,{key:e._id,label:e.name,style:{margin:2}})})))},MenuProps:Lt},l.map((function(e){return r.a.createElement(pt.a,{key:e._id,value:e._id},r.a.createElement(gt.a,{checked:c.indexOf(e._id)>-1}),r.a.createElement(ye.a,{primary:e.name}))}))))),r.a.createElement(h.a,{type:"submit",variant:"contained",color:"primary",style:{margin:"15px"},onClick:function(){return e.onSubmit}},"L\u01b0u"),r.a.createElement(h.a,{variant:"contained",style:{margin:"15px"},onClick:function(){return e.props.history.push("/manager/stations")}},"H\u1ee7y")))}}]),a}(n.Component),Mt=Object(I.b)((function(e){return{stationEditing:e.layout.stationEditing,companies:e.companies}}),{getStationById:vt,updateStation:function(e){return function(t){return b.put("/stations/".concat(e._id),e).then((function(e){t({type:"UPDATE_STATION",payload:e.data}),Promise.resolve(e.data)})).catch((function(e){return Promise.reject(e)}))}},getCompanies:Ct})(Dt),Ft=function(e){Object(s.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).classes=ct,n.deleteStation=function(e){n.props.deleteStation(e),n.props.history.push("./")},n.componentDidMount=Object(at.a)(tt.a.mark((function e(){var t;return tt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.props.match.params.id,e.next=3,n.props.getStationById(t);case 3:return e.next=5,n.setState({station:n.props.stationEditing});case 5:case"end":return e.stop()}}),e)}))),n.state={station:{}},n}return Object(l.a)(a,[{key:"render",value:function(){var e=this,t=this.state.station;return r.a.createElement(Ge.a,null,r.a.createElement(Me.a,{style:this.classes.card},r.a.createElement(Ae.a,null,r.a.createElement(P.a,{container:!0,direction:"row",justify:"space-evenly",alignItems:"flex-start"},r.a.createElement(P.a,{item:!0,md:6},r.a.createElement(g.a,{variant:"h5",style:this.classes.title,gutterBottom:!0},y.a.get(t,"name")),r.a.createElement(g.a,{color:"textSecondary"},"\u0110\u1ecba ch\u1ec9 : ",y.a.get(t,"address")),r.a.createElement(g.a,{color:"textSecondary"},"T\u1ec9nh : ",y.a.get(t,"province")),r.a.createElement(Ot.a,{style:this.classes.image},r.a.createElement("img",{style:this.classes.img,alt:"complex",src:y.a.get(t,"image")?y.a.get(t,"image"):"https://upload.wikimedia.org/wikipedia/vi/1/1a/Nh%C3%A0_ga_b%E1%BA%BFn_xe_mi%E1%BB%81n_%C4%90%C3%B4ng.JPG"}))),r.a.createElement(P.a,{item:!0,md:6},r.a.createElement(g.a,{variant:"h6",color:"textPrimary"},"Danh s\xe1ch nh\xe0 xe :"," ",y.a.get(t,"companies",[]).map((function(t,a){return r.a.createElement(g.a,{key:a,color:"textSecondary"},r.a.createElement(u.b,{to:"/manager/companies/".concat(t._id),style:e.classes.link},t.name))})))))),r.a.createElement(Fe.a,null,r.a.createElement(h.a,{variant:"contained",style:{marginLeft:"auto"},onClick:function(){return e.props.history.push("./")}},"Tr\u1edf v\u1ec1"),r.a.createElement(h.a,{size:"small",variant:"contained",onClick:function(){return e.props.history.push("/manager/stations/".concat(y.a.get(t,"_id"),"/editstation"))}},"Ch\u1ec9nh s\u1eeda"),r.a.createElement(Qe,{id:y.a.get(t,"_id"),deleteAction:this.deleteStation,type:"B\u1ebfn xe"}))))}}]),a}(n.Component),At=Object(I.b)((function(e){return{stationEditing:e.layout.stationEditing}}),{getStationById:vt,deleteStation:bt})(Ft),Gt=Object(p.g)((function(e){var t=Je(),a=e.company;return r.a.createElement(Me.a,{className:t.card},r.a.createElement(Ae.a,null,r.a.createElement(P.a,{container:!0,direction:"row",justify:"space-evenly",alignItems:"flex-start"},r.a.createElement(P.a,{item:!0,md:6},r.a.createElement(u.b,{to:"/manager/companies/".concat(a._id),className:t.title},a.name),r.a.createElement(g.a,{color:"textPrimary"},"Lo\u1ea1i gh\u1ebf : ",a.carType.join(", ")),r.a.createElement(Ot.a,{className:t.image},r.a.createElement("img",{className:t.img,alt:"complex",src:a.image?a.image:"https://chothuexedulichtphcm.vn/wp-content/uploads/2018/05/cho-thue%CC%82-xe-29-cho%CC%82%CC%83-ta%CC%A3i-%C4%90o%CC%82%CC%80ng-Tha%CC%81p-gia%CC%81-re%CC%89.jpg"}))),r.a.createElement(P.a,{item:!0,md:6},r.a.createElement(g.a,{variant:"h6",color:"textPrimary"},"Danh s\xe1ch b\u1ebfn xe :"," ",a.stations.map((function(e,a){return r.a.createElement(g.a,{key:a,color:"textSecondary"},r.a.createElement(u.b,{to:"/manager/stations/".concat(e._id),className:t.link},e.name))})))))),r.a.createElement(Fe.a,null,r.a.createElement(h.a,{size:"small",variant:"contained",style:{marginLeft:"auto"},onClick:function(){return e.history.push("/manager/companies/".concat(a._id,"/editcompany"))}},"Ch\u1ec9nh s\u1eeda"),r.a.createElement(Qe,{id:a._id,deleteAction:e.deleteCompany,type:"Nh\xe0 xe"})))})),Ht={PaperProps:{style:{maxHeight:300,width:300}}},Vt=["Gh\u1ebf ng\u1ed3i VIP 8 ch\u1ed7","Gi\u01b0\u1eddng n\u1eb1m VIP 20 ch\u1ed7","Gh\u1ebf ng\u1ed3i th\u01b0\u1eddng 16 ch\u1ed7","Gh\u1ebf ng\u1ed3i th\u01b0\u1eddng 40 ch\u1ed7"],Ut=function(e){Object(s.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).onChange=function(e){n.setState(Object(d.a)({},e.target.name,e.target.value))},n.cancelFilter=function(){n.setState({stationsFilter:[],carTypeFilter:[]})},n.state={companyName:"",List:[],stationsFilter:[],carTypeFilter:[]},n}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.props.getCompanies(),this.props.getStations().then((function(){e.setState({List:e.props.stations})}))}},{key:"render",value:function(){var e=this,t=this.state,a=t.companyName,n=t.List,i=t.stationsFilter,o=t.carTypeFilter,c=[],l=this.props.companies;l.filter((function(e){return ut(e.name).indexOf(ut(a))>-1&&(c=[].concat(Object(mt.a)(c),[e])),e}));var s=l.filter((function(e){return i.every((function(t){return e.stations.map((function(e){return e._id})).indexOf(t)>-1}))})),m=l.filter((function(e){return o.every((function(t){return e.carType.indexOf(t)>-1}))})),u=y.a.intersection(c,m,s);return r.a.createElement(r.a.Fragment,null,r.a.createElement(ce.a,null),r.a.createElement("h1",{className:"title_addnew"},"QU\u1ea2N L\xdd NH\xc0 XE"),r.a.createElement(h.a,{variant:"contained",color:"primary",onClick:function(){return e.props.history.push("/manager/companies/addcompany")}},"Th\xeam Nh\xe0 xe"),r.a.createElement(P.a,{container:!0,direction:"row",justify:"space-evenly",alignItems:"flex-start"},r.a.createElement(P.a,{item:!0,md:2}),r.a.createElement(P.a,{item:!0,md:3},r.a.createElement(Me.a,null,r.a.createElement("h2",{className:"title_addnew"},"B\u1ed8 L\u1eccC & T\xccM KI\u1ebeM"),r.a.createElement("h3",{className:"title_addnew"},"T\u1ed5ng s\u1ed1 k\u1ebft qu\u1ea3 : ".concat(u.length)),r.a.createElement(h.a,{style:{justifyContent:"center"},variant:"contained",onClick:function(){return e.cancelFilter()}},"H\u1ee7y"),r.a.createElement(Ae.a,null,r.a.createElement(f.a,{id:"companyName",name:"companyName",value:a,label:"T\xecm nh\xe0 xe",variant:"outlined",style:{margin:"15px",width:"80%"},onChange:this.onChange}),r.a.createElement(dt.a,{style:{margin:"15px",width:"80%"}},r.a.createElement(Et.a,null,"B\u1ebfn xe"),r.a.createElement(ht.a,{multiple:!0,name:"stationsFilter",value:i,onChange:this.onChange,input:r.a.createElement(ft.a,null),renderValue:function(e){return r.a.createElement("div",{style:{display:"flex",flexWrap:"wrap"}},n.filter((function(t){return e.indexOf(t._id)>-1})).map((function(e){return r.a.createElement(Tt.a,{key:e._id,label:e.name,style:{margin:2}})})))},MenuProps:Ht},n.map((function(e){return r.a.createElement(pt.a,{key:e._id,value:e._id},r.a.createElement(gt.a,{checked:i.indexOf(e._id)>-1}),r.a.createElement(ye.a,{primary:e.name}))})))),r.a.createElement(dt.a,{style:{margin:"15px",width:"80%"}},r.a.createElement(Et.a,null,"Lo\u1ea1i gh\u1ebf ng\u1ed3i"),r.a.createElement(ht.a,{multiple:!0,name:"carTypeFilter",value:o,onChange:this.onChange,input:r.a.createElement(ft.a,null),renderValue:function(e){return r.a.createElement("div",{style:{display:"flex",flexWrap:"wrap"}},e.map((function(e){return r.a.createElement(Tt.a,{key:e,label:e,style:{margin:2}})})))},MenuProps:Ht},Vt.map((function(e){return r.a.createElement(pt.a,{key:e,value:e},r.a.createElement(gt.a,{checked:o.indexOf(e)>-1}),r.a.createElement(ye.a,{primary:e}))}))))),r.a.createElement(Fe.a,null))),r.a.createElement(P.a,{item:!0,md:7},u.map((function(t,a){return r.a.createElement(Gt,{company:t,key:a,deleteCompany:e.props.deleteCompany})})))))}}]),a}(n.Component),Yt=Object(I.b)((function(e){return{companies:e.companies,stations:e.stations}}),{getCompanies:Ct,deleteCompany:St,getStations:yt})(Ut),Rt={PaperProps:{style:{maxHeight:300,width:300}}},Wt=["Gh\u1ebf ng\u1ed3i VIP 8 ch\u1ed7","Gi\u01b0\u1eddng n\u1eb1m VIP 20 ch\u1ed7","Gh\u1ebf ng\u1ed3i th\u01b0\u1eddng 16 ch\u1ed7","Gh\u1ebf ng\u1ed3i th\u01b0\u1eddng 40 ch\u1ed7"],zt=function(e){Object(s.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).onChange=function(e){n.setState(Object(d.a)({},e.target.name,e.target.value))},n.onSubmit=function(e){e.preventDefault();var t=n.state,a={name:t.name,carType:t.carType,stations:t.stations,image:t.image};n.props.createCompany(a).then((function(){return n.props.history.push("./")})).catch((function(e){n.setState({error:e})}))},n.state={name:"",carType:[],image:"",stations:[],List:[],error:{}},n}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.props.getStations().then((function(){e.setState({List:e.props.stations})}))}},{key:"render",value:function(){var e=this,t=this.state,a=t.name,n=t.carType,i=t.stations,o=t.image,c=t.List;return r.a.createElement("div",{className:"add_station"},r.a.createElement("h1",{className:"title_addnew"},"TH\xcaM NH\xc0 XE"),r.a.createElement("form",{autoComplete:"off",onSubmit:this.onSubmit},r.a.createElement("div",null,y.a.get(this.state,"error.response.data.name")&&r.a.createElement(Q,{error:y.a.get(this.state,"error.response.data.name","")}),r.a.createElement(f.a,{id:"name",name:"name",value:a,label:"T\xean nh\xe0 xe",variant:"outlined",style:{margin:"15px",width:"40%"},onChange:this.onChange})),r.a.createElement("div",null,r.a.createElement(f.a,{id:"image",name:"image",value:o,label:"Link h\xecnh \u1ea3nh",variant:"outlined",style:{margin:"15px",width:"40%"},onChange:this.onChange})),r.a.createElement("div",null,y.a.get(this.state,"error.response.data.carType")&&r.a.createElement(Q,{error:y.a.get(this.state,"error.response.data.carType","")}),r.a.createElement(dt.a,{style:{margin:"15px",width:"40%"}},r.a.createElement(Et.a,null,"Lo\u1ea1i gh\u1ebf ng\u1ed3i"),r.a.createElement(ht.a,{multiple:!0,name:"carType",value:n,onChange:this.onChange,input:r.a.createElement(ft.a,null),renderValue:function(e){return r.a.createElement("div",{style:{display:"flex",flexWrap:"wrap"}},e.map((function(e){return r.a.createElement(Tt.a,{key:e,label:e,style:{margin:2}})})))},MenuProps:Rt},Wt.map((function(e){return r.a.createElement(pt.a,{key:e,value:e},r.a.createElement(gt.a,{checked:n.indexOf(e)>-1}),r.a.createElement(ye.a,{primary:e}))}))))),r.a.createElement("div",null,r.a.createElement(dt.a,{style:{margin:"15px",width:"40%"}},r.a.createElement(Et.a,null,"Ch\u1ecdn b\u1ebfn xe"),r.a.createElement(ht.a,{multiple:!0,name:"stations",value:i,onChange:this.onChange,input:r.a.createElement(ft.a,null),renderValue:function(e){return r.a.createElement("div",{style:{display:"flex",flexWrap:"wrap"}},c.filter((function(t){return e.indexOf(t._id)>-1})).map((function(e){return r.a.createElement(Tt.a,{key:e._id,label:e.name,style:{margin:2}})})))},MenuProps:Rt},c.map((function(e){return r.a.createElement(pt.a,{key:e._id,value:e._id},r.a.createElement(gt.a,{checked:i.indexOf(e._id)>-1}),r.a.createElement(ye.a,{primary:e.name}))}))))),r.a.createElement(h.a,{type:"submit",variant:"contained",color:"primary",style:{margin:"15px"},onClick:function(){return e.onSubmit}},"L\u01b0u"),r.a.createElement(h.a,{variant:"contained",style:{margin:"15px"},onClick:function(){return e.props.history.push("./")}},"H\u1ee7y")))}}]),a}(n.Component),Xt=Object(I.b)((function(e){return{stations:e.stations}}),{createCompany:function(e){return function(t){return b.post("/companies",e).then((function(e){t({type:"CREATE_COMPANY",payload:e.data}),Promise.resolve(e.data)})).catch((function(e){return Promise.reject(e)}))}},getStations:yt})(zt),Kt={PaperProps:{style:{maxHeight:300,width:300}}},Qt=["Gh\u1ebf ng\u1ed3i VIP 8 ch\u1ed7","Gi\u01b0\u1eddng n\u1eb1m VIP 20 ch\u1ed7","Gh\u1ebf ng\u1ed3i th\u01b0\u1eddng 16 ch\u1ed7","Gh\u1ebf ng\u1ed3i th\u01b0\u1eddng 40 ch\u1ed7"],Jt=function(e){Object(s.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).onChange=function(e){n.setState(Object(d.a)({},e.target.name,e.target.value))},n.onSubmit=function(e){e.preventDefault();var t=n.state,a={name:t.name,carType:t.carType,stations:t.stations,image:t.image,_id:t._id};n.props.updateCompany(a).then((function(){return n.props.history.push("./../")})).catch((function(e){n.setState({error:e})}))},n.state={name:"",carType:[],image:"",stations:[],List:[],error:{},_id:""},n}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=this.props.match.params.id;this.props.getStations().then((function(){e.setState({List:e.props.stations})})),this.props.getCompanyById(t).then((function(){var t=e.props.companyEditing,a=t.stations.map((function(e){return e._id}));e.setState({name:t.name,carType:t.carType,stations:a,image:t.image,_id:t._id})}))}},{key:"render",value:function(){var e=this,t=this.state,a=t.name,n=t.carType,i=t.stations,o=t.List,c=t.image;return r.a.createElement("div",{className:"add_station"},r.a.createElement("h1",{className:"title_addnew"},"CH\u1ec8NH S\u1eecA NH\xc0 XE"),r.a.createElement("form",{autoComplete:"off",onSubmit:this.onSubmit},r.a.createElement("div",null,y.a.get(this.state,"error.response.data.name")&&r.a.createElement(Q,{error:y.a.get(this.state,"error.response.data.name","")}),r.a.createElement(f.a,{id:"name",name:"name",value:a,label:"T\xean nh\xe0 xe",variant:"outlined",style:{margin:"15px",width:"40%"},onChange:this.onChange})),r.a.createElement("div",null,r.a.createElement(f.a,{id:"image",name:"image",value:c,label:"Link h\xecnh \u1ea3nh",variant:"outlined",style:{margin:"15px",width:"40%"},onChange:this.onChange})),r.a.createElement("div",null,y.a.get(this.state,"error.response.data.carType")&&r.a.createElement(Q,{error:y.a.get(this.state,"error.response.data.carType","")}),r.a.createElement(dt.a,{style:{margin:"15px",width:"40%"}},r.a.createElement(Et.a,null,"Lo\u1ea1i gh\u1ebf ng\u1ed3i"),r.a.createElement(ht.a,{multiple:!0,name:"carType",value:n,onChange:this.onChange,input:r.a.createElement(ft.a,null),renderValue:function(e){return r.a.createElement("div",{style:{display:"flex",flexWrap:"wrap"}},e.map((function(e){return r.a.createElement(Tt.a,{key:e,label:e,style:{margin:2}})})))},MenuProps:Kt},Qt.map((function(e){return r.a.createElement(pt.a,{key:e,value:e},r.a.createElement(gt.a,{checked:n.indexOf(e)>-1}),r.a.createElement(ye.a,{primary:e}))}))))),r.a.createElement("div",null,r.a.createElement(dt.a,{style:{margin:"15px",width:"40%"}},r.a.createElement(Et.a,null,"Ch\u1ecdn b\u1ebfn xe"),r.a.createElement(ht.a,{multiple:!0,name:"stations",value:i,onChange:this.onChange,input:r.a.createElement(ft.a,null),renderValue:function(e){return r.a.createElement("div",{style:{display:"flex",flexWrap:"wrap"}},o.filter((function(t){return e.indexOf(t._id)>-1})).map((function(e){return r.a.createElement(Tt.a,{key:e._id,label:e.name,style:{margin:2}})})))},MenuProps:Kt},o.map((function(e){return r.a.createElement(pt.a,{key:e._id,value:e._id},r.a.createElement(gt.a,{checked:i.indexOf(e._id)>-1}),r.a.createElement(ye.a,{primary:e.name}))}))))),r.a.createElement(h.a,{type:"submit",variant:"contained",color:"primary",style:{margin:"15px"},onClick:function(){return e.onSubmit}},"L\u01b0u"),r.a.createElement(h.a,{variant:"contained",style:{margin:"15px"},onClick:function(){return e.props.history.push("./../")}},"H\u1ee7y")))}}]),a}(n.Component),qt=Object(I.b)((function(e){return{companyEditing:e.layout.companyEditing,stations:e.stations}}),{getStations:yt,getCompanyById:xt,updateCompany:function(e){return function(t){return b.put("/companies/".concat(e._id),e).then((function(e){t({type:"UPDATE_COMPANY",payload:e.data}),Promise.resolve(e.data)})).catch((function(e){return Promise.reject(e)}))}}})(Jt),$t=function(e){Object(s.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).classes=ct,n.deleteCompany=function(e){n.props.deleteCompany(e),n.props.history.push("./")},n.componentDidMount=Object(at.a)(tt.a.mark((function e(){var t;return tt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.props.match.params.id,e.next=3,n.props.getCompanyById(t);case 3:return e.next=5,n.setState({company:n.props.companyEditing});case 5:case"end":return e.stop()}}),e)}))),n.state={company:{}},n}return Object(l.a)(a,[{key:"render",value:function(){var e=this,t=this.state.company;return r.a.createElement(Ge.a,null,r.a.createElement(Me.a,{style:this.classes.card},r.a.createElement(Ae.a,null,r.a.createElement(P.a,{container:!0,direction:"row",justify:"space-evenly",alignItems:"flex-start"},r.a.createElement(P.a,{item:!0,md:6},r.a.createElement(g.a,{variant:"h5",style:this.classes.title,gutterBottom:!0},y.a.get(t,"name")),r.a.createElement(g.a,{color:"textPrimary"},"Lo\u1ea1i gh\u1ebf : ",y.a.get(t,"carType",[]).join(", ")),r.a.createElement(Ot.a,{style:this.classes.image},r.a.createElement("img",{style:this.classes.img,alt:"complex",src:y.a.get(t,"image")?y.a.get(t,"image"):"https://chothuexedulichtphcm.vn/wp-content/uploads/2018/05/cho-thue%CC%82-xe-29-cho%CC%82%CC%83-ta%CC%A3i-%C4%90o%CC%82%CC%80ng-Tha%CC%81p-gia%CC%81-re%CC%89.jpg"}))),r.a.createElement(P.a,{item:!0,md:6},r.a.createElement(g.a,{variant:"h6",color:"textPrimary"},"Danh s\xe1ch b\u1ebfn xe :"," ",y.a.get(t,"stations",[]).map((function(t,a){return r.a.createElement(g.a,{key:a,color:"textSecondary"},r.a.createElement(u.b,{to:"/manager/stations/".concat(t._id),style:e.classes.link},t.name))})))))),r.a.createElement(Fe.a,null,r.a.createElement(h.a,{variant:"contained",style:{marginLeft:"auto"},onClick:function(){return e.props.history.push("./")}},"Tr\u1edf v\u1ec1"),r.a.createElement(h.a,{size:"small",variant:"contained",onClick:function(){return e.props.history.push("/manager/companies/".concat(y.a.get(t,"_id"),"/editcompany"))}},"Ch\u1ec9nh s\u1eeda"),r.a.createElement(Qe,{id:y.a.get(t,"_id"),deleteAction:this.deleteCompany,type:"Nh\xe0 xe"}))))}}]),a}(n.Component),Zt=Object(I.b)((function(e){return{companyEditing:e.layout.companyEditing}}),{getCompanyById:xt,deleteCompany:St})($t),ea=function(){return function(e){return b.get("/trips").then((function(t){e({type:"GET_TRIPS",payload:t.data}),Promise.resolve(t.data)})).catch((function(e){return Promise.reject(e)}))}},ta=function(e){return function(t){return b.get("/trips/".concat(e)).then((function(e){t({type:"GET_TRIPBYID",payload:e.data}),Promise.resolve(e.data)})).catch((function(e){return Promise.reject(e)}))}},aa=function(e){return function(t){b.delete("/trips/".concat(e)).then((function(){t(ea())}))}},na=a(38),ra=a(62),ia=a.n(ra),oa=Object(p.g)((function(e){var t=Je(),a=e.trip;return r.a.createElement(Me.a,{className:t.card},r.a.createElement(Ae.a,null,r.a.createElement(P.a,{container:!0,direction:"row",justify:"space-evenly",alignItems:"flex-start"},r.a.createElement(P.a,{item:!0,md:6},r.a.createElement(u.b,{to:"/manager/trips/".concat(a._id),className:t.title},a.fromStation.province," - ",a.toStation.province),r.a.createElement(g.a,{variant:"h6",gutterBottom:!0},r.a.createElement(u.b,{to:"/manager/companies/".concat(a.company._id),className:t.link},a.company.name)),r.a.createElement(g.a,{color:"textSecondary"},a.carType),r.a.createElement(Ot.a,{className:t.image},r.a.createElement("img",{className:t.img,alt:"complex",src:a.company.image?a.company.image:"https://upload.wikimedia.org/wikipedia/vi/1/1a/Nh%C3%A0_ga_b%E1%BA%BFn_xe_mi%E1%BB%81n_%C4%90%C3%B4ng.JPG"}))),r.a.createElement(P.a,{item:!0,md:6},r.a.createElement(g.a,{variant:"h6",color:"primary"},"Gi\xe1 v\xe9 :"," ",r.a.createElement(na.a,{value:a.price,displayType:"text",thousandSeparator:!0,suffix:" VND"})),r.a.createElement(g.a,{color:"textPrimary"},"\u0110i\u1ec3m xu\u1ea5t ph\xe1t :"," ",r.a.createElement(u.b,{to:"/manager/stations/".concat(a.fromStation._id),className:t.link},a.fromStation.name)),r.a.createElement(g.a,{color:"textPrimary"},"\u0110i\u1ec3m \u0111\u1ebfn :"," ",r.a.createElement(u.b,{to:"/manager/stations/".concat(a.toStation._id),className:t.link},a.toStation.name)),r.a.createElement(g.a,{color:"textPrimary"},"Gi\u1edd kh\u1edfi h\xe0nh:"," ",r.a.createElement(ia.a,{format:" HH:mm DD/MM/YYYY"},a.startTime)),r.a.createElement(g.a,{color:"textSecondary"},"S\u1ed1 gh\u1ebf tr\u1ed1ng: ",a.seats.filter((function(e){return!e.isBooked})).length," /"," ",a.seats.length)))),r.a.createElement(Fe.a,null,r.a.createElement(h.a,{size:"small",variant:"contained",style:{marginLeft:"auto"},onClick:function(){return e.history.push("/manager/trips/".concat(a._id,"/edittrip"))}},"Ch\u1ec9nh s\u1eeda"),r.a.createElement(Qe,{id:a._id,deleteAction:e.deleteTrip,type:"Chuy\u1ebfn \u0111i"})))})),ca={PaperProps:{style:{maxHeight:300,width:300}}},la=function(e){Object(s.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).onChange=function(e){n.setState(Object(d.a)({},e.target.name,e.target.value))},n.cancelFilter=function(){n.setState({companiesFilter:[],fromStationFilter:[],fromProvinceFilter:[],toStationFilter:[],toProvinceFilter:[]})},n.state={tripName:"",companiesList:[],stationsList:[],provinceList:[],companiesFilter:[],fromStationFilter:[],fromProvinceFilter:[],toStationFilter:[],toProvinceFilter:[]},n}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.props.getTrips(),this.props.getCompanies().then((function(){e.setState({companiesList:e.props.companies})})),this.props.getStations().then((function(){e.setState({stationsList:e.props.stations,provinceList:y.a.uniq(e.props.stations.map((function(e){return e.province})))})}))}},{key:"render",value:function(){var e=this,t=this.state,a=t.tripName,n=t.companiesList,i=t.stationsList,o=t.provinceList,c=t.companiesFilter,l=t.fromStationFilter,s=t.toStationFilter,m=t.fromProvinceFilter,u=t.toProvinceFilter,p=this.props.trips,d=[];a?p.filter((function(e){return(ut(e.fromStation.province)+ut(e.toStation.province)).indexOf(ut(a))>-1&&(d=[].concat(Object(mt.a)(d),[e])),e})):d=p;var g=[];g=c.length>0?p.filter((function(e){return c.indexOf(e.company._id)>-1})):p;var E=[];E=m.length>0?p.filter((function(e){return m.indexOf(e.fromStation.province)>-1})):p;var v=[];v=u.length>0?p.filter((function(e){return u.indexOf(e.toStation.province)>-1})):p;var b=[];b=l.length>0?p.filter((function(e){return l.indexOf(e.fromStation._id)>-1})):p;var C=[];C=s.length>0?p.filter((function(e){return s.indexOf(e.toStation._id)>-1})):p;var x=y.a.intersection(d,g,E,v,b,C);return r.a.createElement(r.a.Fragment,null,r.a.createElement(ce.a,null),r.a.createElement("h1",{className:"title_addnew"},"QU\u1ea2N L\xdd CHUY\u1ebeN \u0110I"),r.a.createElement(h.a,{variant:"contained",color:"primary",onClick:function(){return e.props.history.push("/manager/trips/addtrip")}},"Th\xeam chuy\u1ebfn \u0111i"),r.a.createElement(P.a,{container:!0,direction:"row",justify:"space-evenly",alignItems:"flex-start"},r.a.createElement(P.a,{item:!0,md:2}),r.a.createElement(P.a,{item:!0,md:3},r.a.createElement(Me.a,null,r.a.createElement("h2",{className:"title_addnew"},"B\u1ed8 L\u1eccC & T\xccM KI\u1ebeM"),r.a.createElement("h3",{className:"title_addnew"},"T\u1ed5ng s\u1ed1 k\u1ebft qu\u1ea3 : ".concat(x.length)),r.a.createElement(h.a,{style:{justifyContent:"center"},variant:"contained",onClick:function(){return e.cancelFilter()}},"H\u1ee7y"),r.a.createElement(Ae.a,null,r.a.createElement(f.a,{id:"tripName",name:"tripName",value:a,label:"T\xecm chuy\u1ebfn \u0111i",variant:"outlined",style:{margin:"15px",width:"80%"},onChange:this.onChange}),r.a.createElement(dt.a,{style:{margin:"15px",width:"80%"}},r.a.createElement(Et.a,null,"Nh\xe0 xe"),r.a.createElement(ht.a,{multiple:!0,name:"companiesFilter",value:c,onChange:this.onChange,input:r.a.createElement(ft.a,null),renderValue:function(e){return r.a.createElement("div",{style:{display:"flex",flexWrap:"wrap"}},n.filter((function(t){return e.indexOf(t._id)>-1})).map((function(e){return r.a.createElement(Tt.a,{key:e._id,label:e.name,style:{margin:2}})})))},MenuProps:ca},n.map((function(e){return r.a.createElement(pt.a,{key:e._id,value:e._id},r.a.createElement(gt.a,{checked:c.indexOf(e._id)>-1}),r.a.createElement(ye.a,{primary:e.name}))})))),r.a.createElement(dt.a,{style:{margin:"15px",width:"80%"}},r.a.createElement(Et.a,null,"N\u01a1i \u0111i"),r.a.createElement(ht.a,{multiple:!0,name:"fromProvinceFilter",value:m,onChange:this.onChange,input:r.a.createElement(ft.a,null),renderValue:function(e){return r.a.createElement("div",{style:{display:"flex",flexWrap:"wrap"}},e.map((function(e){return r.a.createElement(Tt.a,{key:e,label:e,style:{margin:2}})})))},MenuProps:ca},o.map((function(e){return r.a.createElement(pt.a,{key:e,value:e},r.a.createElement(gt.a,{checked:m.indexOf(e)>-1}),r.a.createElement(ye.a,{primary:e}))})))),r.a.createElement(dt.a,{style:{margin:"15px",width:"80%"}},r.a.createElement(Et.a,null,"N\u01a1i \u0111\u1ebfn"),r.a.createElement(ht.a,{multiple:!0,name:"toProvinceFilter",value:u,onChange:this.onChange,input:r.a.createElement(ft.a,null),renderValue:function(e){return r.a.createElement("div",{style:{display:"flex",flexWrap:"wrap"}},e.map((function(e){return r.a.createElement(Tt.a,{key:e,label:e,style:{margin:2}})})))},MenuProps:ca},o.map((function(e){return r.a.createElement(pt.a,{key:e,value:e},r.a.createElement(gt.a,{checked:u.indexOf(e)>-1}),r.a.createElement(ye.a,{primary:e}))})))),r.a.createElement(dt.a,{style:{margin:"15px",width:"80%"}},r.a.createElement(Et.a,null,"\u0110i\u1ec3m \u0111\xf3n kh\xe1ch"),r.a.createElement(ht.a,{multiple:!0,name:"fromStationFilter",value:l,onChange:this.onChange,input:r.a.createElement(ft.a,null),renderValue:function(e){return r.a.createElement("div",{style:{display:"flex",flexWrap:"wrap"}},i.filter((function(t){return e.indexOf(t._id)>-1})).map((function(e){return r.a.createElement(Tt.a,{key:e._id,label:e.name,style:{margin:2}})})))},MenuProps:ca},i.map((function(e){return r.a.createElement(pt.a,{key:e._id,value:e._id},r.a.createElement(gt.a,{checked:l.indexOf(e._id)>-1}),r.a.createElement(ye.a,{primary:e.name}))})))),r.a.createElement(dt.a,{style:{margin:"15px",width:"80%"}},r.a.createElement(Et.a,null,"\u0110i\u1ec3m tr\u1ea3 kh\xe1ch"),r.a.createElement(ht.a,{multiple:!0,name:"toStationFilter",value:s,onChange:this.onChange,input:r.a.createElement(ft.a,null),renderValue:function(e){return r.a.createElement("div",{style:{display:"flex",flexWrap:"wrap"}},i.filter((function(t){return e.indexOf(t._id)>-1})).map((function(e){return r.a.createElement(Tt.a,{key:e._id,label:e.name,style:{margin:2}})})))},MenuProps:ca},i.map((function(e){return r.a.createElement(pt.a,{key:e._id,value:e._id},r.a.createElement(gt.a,{checked:s.indexOf(e._id)>-1}),r.a.createElement(ye.a,{primary:e.name}))}))))))),r.a.createElement(P.a,{item:!0,md:7},x.sort((function(e,t){return new Date(e.startTime)-new Date(t.startTime)})).map((function(t,a){return r.a.createElement(oa,{trip:t,key:a,deleteTrip:e.props.deleteTrip})})))))}}]),a}(n.Component),sa=Object(I.b)((function(e){return{trips:e.trips,stations:e.stations,companies:e.companies}}),{getTrips:ea,deleteTrip:aa,getStations:yt,getCompanies:Ct})(la),ma=function(e){Object(s.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).classes=ct,n.deleteTrip=function(e){n.props.deleteTrip(e),n.props.history.push("./")},n.componentDidMount=Object(at.a)(tt.a.mark((function e(){var t;return tt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.props.match.params.id,e.next=3,n.props.getTripById(t);case 3:return e.next=5,n.setState({trip:n.props.tripEditing});case 5:case"end":return e.stop()}}),e)}))),n.state={trip:{}},n}return Object(l.a)(a,[{key:"render",value:function(){var e=this,t=this.state.trip;return r.a.createElement(Ge.a,null,r.a.createElement(Me.a,{style:this.classes.card},r.a.createElement(Ae.a,null,r.a.createElement(P.a,{container:!0,direction:"row",justify:"space-evenly",alignItems:"flex-start"},r.a.createElement(P.a,{item:!0,md:8},r.a.createElement(g.a,{variant:"h5",style:this.classes.title,gutterBottom:!0},y.a.get(t,"fromStation.province")," -"," ",y.a.get(t,"toStation.province")),r.a.createElement(g.a,{variant:"h6",gutterBottom:!0},r.a.createElement(u.b,{to:"/manager/companies/".concat(y.a.get(t,"company._id")),style:this.classes.link},y.a.get(t,"company.name"))),r.a.createElement(g.a,{color:"textSecondary"},y.a.get(t,"carType")),r.a.createElement(Ot.a,{style:this.classes.image},r.a.createElement("img",{style:this.classes.img,alt:"complex",src:y.a.get(t,"company.image")?y.a.get(t,"company.image"):"https://upload.wikimedia.org/wikipedia/vi/1/1a/Nh%C3%A0_ga_b%E1%BA%BFn_xe_mi%E1%BB%81n_%C4%90%C3%B4ng.JPG"}))),r.a.createElement(P.a,{item:!0,md:4},r.a.createElement(g.a,{color:"textPrimary"},"\u0110i\u1ec3m xu\u1ea5t ph\xe1t :"," ",r.a.createElement(u.b,{to:"/manager/stations/".concat(y.a.get(t,"fromStation._id")),style:this.classes.link},y.a.get(t,"fromStation.name"))),r.a.createElement(g.a,{color:"textPrimary"},"\u0110i\u1ec3m \u0111\u1ebfn :"," ",r.a.createElement(u.b,{to:"/manager/stations/".concat(y.a.get(t,"toStation._id")),style:this.classes.link},y.a.get(t,"toStation.name"))),r.a.createElement(g.a,{color:"textPrimary"},"Gi\xe1 v\xe9 :"," ",r.a.createElement(na.a,{value:y.a.get(t,"price"),displayType:"text",thousandSeparator:!0,suffix:" VND"})),r.a.createElement(g.a,{color:"textPrimary"},"Gi\u1edd kh\u1edfi h\xe0nh:"," ",r.a.createElement(ia.a,{format:" HH:mm DD/MM/YYYY"},y.a.get(t,"startTime"))),r.a.createElement(g.a,{color:"textSecondary"},"S\u1ed1 gh\u1ebf tr\u1ed1ng:"," ",y.a.get(t,"seats",[]).filter((function(e){return!e.isBooked})).length," /"," ",y.a.get(t,"seats",[]).length),r.a.createElement(g.a,{color:"textSecondary"},"Gh\u1ebf tr\u1ed1ng:"," ",y.a.get(t,"seats",[]).filter((function(e){return!e.isBooked})).map((function(e){return e.code})).join(", "))))),r.a.createElement(Fe.a,null,r.a.createElement(h.a,{variant:"contained",style:{marginLeft:"auto"},onClick:function(){return e.props.history.push("./")}},"Tr\u1edf v\u1ec1"),r.a.createElement(h.a,{size:"small",variant:"contained",onClick:function(){return e.props.history.push("/manager/trips/".concat(y.a.get(t,"_id"),"/edittrip"))}},"Ch\u1ec9nh s\u1eeda"),r.a.createElement(Qe,{id:y.a.get(t,"_id"),deleteAction:this.deleteTrip,type:"Chuy\u1ebfn \u0111i"}))))}}]),a}(n.Component),ua=Object(I.b)((function(e){return{tripEditing:e.layout.tripEditing}}),{getTripById:ta,deleteTrip:aa})(ma),pa=a(156),da=a(30),ha=a(268),ga=a(278);function fa(e){var t=new Date,a=e.startTime||t,n=r.a.useState(a),i=Object(ee.a)(n,2),o=i[0],c=i[1];r.a.useEffect((function(){e.startTime&&c(a)}),[e.startTime,a]);var l=function(t){c(t),e.onChange(t)};return r.a.createElement(da.a,{utils:pa.a},r.a.createElement(P.a,{container:!0,justify:"center"},r.a.createElement(ha.a,{margin:"normal",id:"date-picker-dialog",label:"Ch\u1ecdn ng\xe0y",format:"MM/dd/yyyy",value:o,onChange:l,KeyboardButtonProps:{"aria-label":"change date"}}),r.a.createElement(ga.a,{margin:"normal",id:"time-picker",label:"Ch\u1ecdn gi\u1edd",value:o,onChange:l,KeyboardButtonProps:{"aria-label":"change time"}})))}var Ea={PaperProps:{style:{maxHeight:300,width:300}}},ya=function(e){Object(s.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).onChangeStation=function(e){n.setState(Object(d.a)({},e.target.name,e.target.value),(function(){if(n.state.fromStation&&n.state.toStation){var e=n.state,t={fromStation:e.fromStation,toStation:e.toStation};n.props.getAdviseCompany(t).then((function(){return n.setState({adviceCompany:n.props.adviceCompany,company:"",carType:""})})).catch((function(e){return console.log(e)}))}}))},n.onChangeCompany=function(e){n.setState(Object(d.a)({},e.target.name,e.target.value),(function(){var e=n.state.adviceCompany.find((function(e){return e._id===n.state.company}));n.setState({ListCar:e.carType,carType:""})}))},n.onChange=function(e){n.setState(Object(d.a)({},e.target.name,e.target.value))},n.onChangeDate=function(e){n.setState({startTime:e})},n.onSubmit=function(e){e.preventDefault();var t=n.state,a={fromStation:t.fromStation,toStation:t.toStation,company:t.company,carType:t.carType,price:t.price,startTime:t.startTime};n.props.createTrip(a).then((function(){return n.props.history.push("./")})).catch((function(e){n.setState({error:e})}))},n.state={stationList:[],fromStation:"",toStation:"",adviceCompany:[],company:"",ListCar:[],carType:"",startTime:"",price:"",error:{}},n}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.props.getStations().then((function(){e.setState({stationList:e.props.stations})}))}},{key:"render",value:function(){var e=this,t=this.state,a=t.stationList,n=t.fromStation,i=t.toStation,o=t.adviceCompany,c=t.company,l=t.ListCar,s=t.carType,m=t.price;return r.a.createElement("div",{className:"add_station"},r.a.createElement("h1",{className:"title_addnew"},"Th\xeam chuy\u1ebfn \u0111i"),r.a.createElement("form",{autoComplete:"off",onSubmit:this.onSubmit},r.a.createElement("div",null,y.a.get(this.state,"error.response.data.fromStation")&&r.a.createElement(Q,{error:y.a.get(this.state,"error.response.data.fromStation","")}),r.a.createElement(dt.a,{style:{margin:"15px",width:"30%"}},r.a.createElement(Et.a,null,"\u0110i\u1ec3m xu\u1ea5t ph\xe1t"),r.a.createElement(ht.a,{name:"fromStation",value:n,onChange:this.onChangeStation,input:r.a.createElement(ft.a,null),renderValue:function(e){return a.find((function(t){return t._id===e})).name},MenuProps:Ea},a.map((function(e){return r.a.createElement(pt.a,{key:e._id,value:e._id},r.a.createElement(gt.a,{checked:n===e._id}),r.a.createElement(ye.a,{primary:e.name}))}))))),r.a.createElement("div",null,y.a.get(this.state,"error.response.data.toStation")&&r.a.createElement(Q,{error:y.a.get(this.state,"error.response.data.toStation","")}),r.a.createElement(dt.a,{style:{margin:"15px",width:"30%"}},r.a.createElement(Et.a,null,"\u0110i\u1ec3m \u0111\u1ebfn"),r.a.createElement(ht.a,{name:"toStation",value:i,onChange:this.onChangeStation,input:r.a.createElement(ft.a,null),renderValue:function(e){return a.find((function(t){return t._id===e})).name},MenuProps:Ea},a.map((function(e){return r.a.createElement(pt.a,{key:e._id,value:e._id},r.a.createElement(gt.a,{checked:i===e._id}),r.a.createElement(ye.a,{primary:e.name}))}))))),r.a.createElement("div",null,y.a.get(this.state,"error.response.data.company")&&r.a.createElement(Q,{error:y.a.get(this.state,"error.response.data.company","")}),r.a.createElement(dt.a,{style:{margin:"15px",width:"30%"}},r.a.createElement(Et.a,null,"Nh\xe0 xe"),r.a.createElement(ht.a,{name:"company",value:c,onChange:this.onChangeCompany,input:r.a.createElement(ft.a,null),renderValue:function(e){return o.find((function(t){return t._id===e})).name},MenuProps:Ea},o.map((function(e){return r.a.createElement(pt.a,{key:e._id,value:e._id},r.a.createElement(gt.a,{checked:c===e._id}),r.a.createElement(ye.a,{primary:e.name}))}))))),r.a.createElement("div",null,y.a.get(this.state,"error.response.data.carType")&&r.a.createElement(Q,{error:y.a.get(this.state,"error.response.data.carType","")}),r.a.createElement(dt.a,{style:{margin:"15px",width:"30%"}},r.a.createElement(Et.a,null,"Lo\u1ea1i gh\u1ebf ng\u1ed3i"),r.a.createElement(ht.a,{name:"carType",value:s,onChange:this.onChange,input:r.a.createElement(ft.a,null),renderValue:function(e){return e},MenuProps:Ea},l.map((function(e){return r.a.createElement(pt.a,{key:e,value:e},r.a.createElement(gt.a,{checked:s===e}),r.a.createElement(ye.a,{primary:e}))}))))),r.a.createElement("div",null,y.a.get(this.state,"error.response.data.price")&&r.a.createElement(Q,{error:y.a.get(this.state,"error.response.data.price","")}),r.a.createElement(f.a,{id:"price",name:"price",value:m,label:"Gi\xe1 v\xe9",variant:"outlined",style:{margin:"15px",width:"30%"},onChange:this.onChange})),r.a.createElement(fa,{onChange:function(t){return e.onChangeDate(t)}}),r.a.createElement(h.a,{type:"submit",variant:"contained",color:"primary",style:{margin:"15px"},onClick:function(){return e.onSubmit}},"L\u01b0u"),r.a.createElement(h.a,{variant:"contained",style:{margin:"15px"},onClick:function(){return e.props.history.push("./")}},"H\u1ee7y")))}}]),a}(n.Component),va=Object(I.b)((function(e){return{stations:e.stations,adviceCompany:e.layout.adviceCompany}}),{createTrip:function(e){return function(t){return b.post("/trips",e).then((function(e){t({type:"CREATE_TRIP",payload:e.data}),Promise.resolve(e.data)})).catch((function(e){return Promise.reject(e)}))}},getStations:yt,getAdviseCompany:kt})(ya),ba={PaperProps:{style:{maxHeight:300,width:300}}},Ca=function(e){Object(s.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).onChangeStation=function(e){n.setState(Object(d.a)({},e.target.name,e.target.value),(function(){if(n.state.fromStation&&n.state.toStation){var e=n.state,t={fromStation:e.fromStation,toStation:e.toStation};n.props.getAdviseCompany(t).then((function(){return n.setState({adviceCompany:n.props.adviceCompany,company:"",carType:""})})).catch((function(e){return console.log(e)}))}}))},n.onChangeCompany=function(e){n.setState(Object(d.a)({},e.target.name,e.target.value),(function(){var e=n.state.adviceCompany.find((function(e){return e._id===n.state.company}));n.setState({ListCar:e.carType,carType:""})}))},n.onChange=function(e){n.setState(Object(d.a)({},e.target.name,e.target.value))},n.onChangeDate=function(e){n.setState({startTime:e})},n.onSubmit=function(e){e.preventDefault();var t=n.state,a={fromStation:t.fromStation,toStation:t.toStation,company:t.company,carType:t.carType,price:t.price,startTime:t.startTime,_id:t._id};n.props.updateTrip(a).then((function(){return n.props.history.push("./../")})).catch((function(e){n.setState({error:e})}))},n.componentDidMount=Object(at.a)(tt.a.mark((function e(){var t,a,r,i,o,c,l,s;return tt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.props.match.params.id,e.next=3,n.props.getStations();case 3:return e.next=5,n.props.getTripById(t);case 5:return a=n.props.stations,r=n.props.tripEditing,i=r.fromStation._id,o=r.toStation._id,c={fromStation:i,toStation:o},e.next=12,n.props.getAdviseCompany(c);case 12:return l=n.props.adviceCompany,s=l.find((function(e){return e._id===r.company._id})),e.next=16,n.setState({stationList:a,adviceCompany:l,fromStation:i,toStation:o,company:r.company._id,ListCar:s.carType,carType:r.carType,price:r.price,startTime:r.startTime,_id:t});case 16:case"end":return e.stop()}}),e)}))),n.state={stationList:[],fromStation:"",toStation:"",adviceCompany:[],company:"",ListCar:[],carType:"",startTime:"",price:"",error:{},_id:""},n}return Object(l.a)(a,[{key:"render",value:function(){var e=this,t=this.state,a=t.stationList,n=t.fromStation,i=t.toStation,o=t.adviceCompany,c=t.company,l=t.ListCar,s=t.carType,m=t.price,u=this.props.tripEditing.startTime;return r.a.createElement("div",{className:"add_station"},r.a.createElement("h1",{className:"title_addnew"},"Ch\u1ec9nh s\u1eeda chuy\u1ebfn \u0111i"),r.a.createElement("form",{autoComplete:"off",onSubmit:this.onSubmit},r.a.createElement("div",null,y.a.get(this.state,"error.response.data.fromStation")&&r.a.createElement(Q,{error:y.a.get(this.state,"error.response.data.fromStation","")}),r.a.createElement(dt.a,{style:{margin:"15px",width:"30%"}},r.a.createElement(Et.a,null,"\u0110i\u1ec3m xu\u1ea5t ph\xe1t"),r.a.createElement(ht.a,{name:"fromStation",value:n,onChange:this.onChangeStation,input:r.a.createElement(ft.a,null),renderValue:function(e){return a.find((function(e){return e._id===n})).name},MenuProps:ba},a.map((function(e){return r.a.createElement(pt.a,{key:e._id,value:e._id},r.a.createElement(gt.a,{checked:n===e._id}),r.a.createElement(ye.a,{primary:e.name}))}))))),r.a.createElement("div",null,y.a.get(this.state,"error.response.data.toStation")&&r.a.createElement(Q,{error:y.a.get(this.state,"error.response.data.toStation","")}),r.a.createElement(dt.a,{style:{margin:"15px",width:"30%"}},r.a.createElement(Et.a,null,"\u0110i\u1ec3m \u0111\u1ebfn"),r.a.createElement(ht.a,{name:"toStation",value:i,onChange:this.onChangeStation,input:r.a.createElement(ft.a,null),renderValue:function(e){return a.find((function(t){return t._id===e})).name},MenuProps:ba},a.map((function(e){return r.a.createElement(pt.a,{key:e._id,value:e._id},r.a.createElement(gt.a,{checked:i===e._id}),r.a.createElement(ye.a,{primary:e.name}))}))))),r.a.createElement("div",null,y.a.get(this.state,"error.response.data.company")&&r.a.createElement(Q,{error:y.a.get(this.state,"error.response.data.company","")}),r.a.createElement(dt.a,{style:{margin:"15px",width:"30%"}},r.a.createElement(Et.a,null,"Nh\xe0 xe"),r.a.createElement(ht.a,{name:"company",value:c,onChange:this.onChangeCompany,input:r.a.createElement(ft.a,null),renderValue:function(e){return o.find((function(t){return t._id===e})).name},MenuProps:ba},o.map((function(e){return r.a.createElement(pt.a,{key:e._id,value:e._id},r.a.createElement(gt.a,{checked:c.indexOf(e._id)>-1}),r.a.createElement(ye.a,{primary:e.name}))}))))),r.a.createElement("div",null,y.a.get(this.state,"error.response.data.carType")&&r.a.createElement(Q,{error:y.a.get(this.state,"error.response.data.carType","")}),r.a.createElement(dt.a,{style:{margin:"15px",width:"30%"}},r.a.createElement(Et.a,null,"Lo\u1ea1i gh\u1ebf ng\u1ed3i"),r.a.createElement(ht.a,{name:"carType",value:s,onChange:this.onChange,input:r.a.createElement(ft.a,null),renderValue:function(e){return e},MenuProps:ba},l.map((function(e){return r.a.createElement(pt.a,{key:e,value:e},r.a.createElement(gt.a,{checked:s===e}),r.a.createElement(ye.a,{primary:e}))}))))),r.a.createElement("div",null,y.a.get(this.state,"error.response.data.price")&&r.a.createElement(Q,{error:y.a.get(this.state,"error.response.data.price","")}),r.a.createElement(f.a,{id:"price",name:"price",value:m,label:"Gi\xe1 v\xe9",variant:"outlined",style:{margin:"15px",width:"30%"},onChange:this.onChange})),r.a.createElement(fa,{onChange:function(t){return e.onChangeDate(t)},startTime:u}),r.a.createElement(h.a,{type:"submit",variant:"contained",color:"primary",style:{margin:"15px"},onClick:function(){return e.onSubmit}},"L\u01b0u"),r.a.createElement(h.a,{variant:"contained",style:{margin:"15px"},onClick:function(){return e.props.history.push("./../")}},"H\u1ee7y")))}}]),a}(n.Component),xa=Object(I.b)((function(e){return{stations:e.stations,adviceCompany:e.layout.adviceCompany,tripEditing:e.layout.tripEditing}}),{getStations:yt,getAdviseCompany:kt,updateTrip:function(e){return function(t){return b.put("/trips/".concat(e._id),e).then((function(e){t({type:"UPDATE_TRIP",payload:e.data}),Promise.resolve(e.data)})).catch((function(e){return Promise.reject(e)}))}},getTripById:ta})(Ca);function ka(e){var t=Je(),a=e.ticket;return r.a.createElement(Me.a,{className:t.card},r.a.createElement(Ae.a,null,r.a.createElement(P.a,{container:!0,direction:"row",justify:"space-evenly",alignItems:"flex-start"},r.a.createElement(P.a,{item:!0,md:6,className:"content__grid"},r.a.createElement(g.a,{variant:"h6",color:"textSecondary"},"M\xe3 s\u1ed1 v\xe9:",r.a.createElement(u.b,{to:"/manager/tickets/".concat(a._id),className:t.link},y.a.get(a,"_id","Kh\xe1c"))),r.a.createElement(u.b,{to:"/manager/users/".concat(a.userId._id),className:t.link,color:"textPrimary"},"Ng\u01b0\u1eddi \u0111\u1eb7t v\xe9: ",y.a.get(a,"userId.fullName","Kh\xe1c")),r.a.createElement(g.a,{style:{marginTop:"16px"},color:"textPrimary"},"S\u1ed1 \u0111i\u1ec7n tho\u1ea1i : ",y.a.get(a,"phone","")),r.a.createElement(g.a,{color:"textPrimary"},"\u0110\u1ecba ch\u1ec9 : ",y.a.get(a,"address",""))),r.a.createElement(P.a,{item:!0,md:6,className:"content__grid"},r.a.createElement(g.a,{variant:"h6",color:"textSecondary"},"M\xe3 s\u1ed1 gh\u1ebf: ",a.seats.map((function(e){return e.code})).join(", ")),r.a.createElement(g.a,{variant:"h6",color:"secondary"},"Ti\u1ec1n v\xe9 :"," ",r.a.createElement(na.a,{value:a.totalPrice,displayType:"text",thousandSeparator:!0,suffix:" VND"})),r.a.createElement(g.a,{color:"textPrimary"},"Ghi ch\xfa : ",a.note?a.note:"")))),r.a.createElement(Fe.a,null,r.a.createElement("div",{style:{marginLeft:"auto"}},r.a.createElement(Qe,{id:a._id,deleteAction:e.deleteTicket,type:"V\xe9"}))))}var Sa=function(e){Object(s.a)(a,e);var t=Object(m.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"componentDidMount",value:function(){this.props.getTickets()}},{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement(ce.a,null),r.a.createElement(Ge.a,{maxWidth:"md"},r.a.createElement("h1",{className:"title_addnew"},"QU\u1ea2N L\xdd V\xc9 XE"),this.props.tickets.map((function(t,a){return r.a.createElement(ka,{ticket:t,key:a,deleteTicket:e.props.deleteTicket})}))))}}]),a}(n.Component),Oa=Object(I.b)((function(e){return{tickets:e.tickets}}),{getTickets:nt,deleteTicket:ot})(Sa),ja=function(e){Object(s.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).classes=ct,n.deleteTicket=function(e){n.props.deleteTicket(e),n.props.history.push("./")},n.componentDidMount=Object(at.a)(tt.a.mark((function e(){var t;return tt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.props.match.params.id,e.next=3,n.props.getTicketById(t);case 3:return e.next=5,n.setState({ticket:n.props.ticketEditing});case 5:case"end":return e.stop()}}),e)}))),n.state={ticket:{}},n}return Object(l.a)(a,[{key:"render",value:function(){var e=this,t=this.state.ticket;return r.a.createElement(Ge.a,null,r.a.createElement(Me.a,{style:this.classes.card},r.a.createElement(Ae.a,null,r.a.createElement(P.a,{container:!0,direction:"row",justify:"space-evenly",alignItems:"flex-start"},r.a.createElement(P.a,{item:!0,md:6,className:"content__grid"},r.a.createElement(g.a,{variant:"h5",style:this.classes.title,gutterBottom:!0},y.a.get(t[1],"fromStation.province","")," -"," ",y.a.get(t[1],"toStation.province","")),r.a.createElement(g.a,{color:"textSecondary"},"Nh\xe0 xe : ",y.a.get(t[1],"company.name","")),r.a.createElement(g.a,{color:"textSecondary"},"Gi\u1edd kh\u1edfi h\xe0nh :",r.a.createElement(ia.a,{format:" HH:mm DD/MM/YYYY"},y.a.get(t[1],"startTime",""))),r.a.createElement(g.a,{color:"textSecondary"},"Lo\u1ea1i gh\u1ebf ng\u1ed3i : ",y.a.get(t[1],"carType","")),r.a.createElement(g.a,{style:{marginTop:"16px"},color:"textPrimary"},"Ng\u01b0\u1eddi \u0111\u1eb7t v\xe9 :"," ",r.a.createElement(u.b,{style:this.classes.link,to:"/manager/users/".concat(y.a.get(t[0],"userId._id",""))},y.a.get(t[0],"userId.fullName",""))),r.a.createElement(g.a,{color:"textPrimary"},"Email :"," ",y.a.get(t[0],"userId.email",""))),r.a.createElement(P.a,{item:!0,md:6,className:"content__grid"},r.a.createElement(g.a,{color:"textSecondary"},"M\xe3 s\u1ed1 gh\u1ebf :"," ",y.a.get(t[0],"seats",[]).map((function(e){return e.code})).join(", ")),r.a.createElement(g.a,{color:"textPrimary"},"Gi\xe1 v\xe9 :"," ",r.a.createElement(na.a,{value:y.a.get(t[1],"price"),displayType:"text",thousandSeparator:!0,suffix:" VND"})),r.a.createElement(g.a,{variant:"h6",color:"textPrimary"},"T\u1ed5ng ti\u1ec1n v\xe9 :"," ",r.a.createElement(na.a,{value:y.a.get(t[0],"totalPrice"),displayType:"text",thousandSeparator:!0,suffix:" VND"})),r.a.createElement(g.a,{style:{marginTop:"16px"},color:"textPrimary"},"S\u1ed1 \u0111i\u1ec7n tho\u1ea1i : ",y.a.get(t[0],"phone","")),r.a.createElement(g.a,{color:"textPrimary"},"\u0110\u1ecba ch\u1ec9 : ",y.a.get(t[0],"address","")),r.a.createElement(g.a,{color:"textPrimary"},"Ghi ch\xfa : ",y.a.get(t[0],"note",""))))),r.a.createElement(Fe.a,null,r.a.createElement(h.a,{variant:"contained",style:{marginLeft:"auto"},onClick:function(){return e.props.history.push("./")}},"Tr\u1edf v\u1ec1"),r.a.createElement(Qe,{id:y.a.get(t[0],"_id"),deleteAction:this.deleteTicket,type:"V\xe9"}))))}}]),a}(n.Component),Ta=Object(I.b)((function(e){return{ticketEditing:e.layout.ticketEditing}}),{getTicketById:function(e){return function(t){return b.get("/tickets/".concat(e)).then((function(e){t({type:"GET_TICKETBYID",payload:e.data}),Promise.resolve(e.data)})).catch((function(e){return Promise.reject(e)}))}},deleteTicket:ot})(ja),_a=function(e){Object(s.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).componentDidMount=Object(at.a)(tt.a.mark((function e(){var t;return tt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.props.ticket.tripId._id,e.next=3,n.props.getTrip(t);case 3:n.setState({trip:n.props.trip});case 4:case"end":return e.stop()}}),e)}))),n.state={trip:{}},n}return Object(l.a)(a,[{key:"render",value:function(){var e=this.props.ticket,t=this.state.trip;return r.a.createElement(Me.a,{style:{minWidth:"275px",margin:"20px"}},r.a.createElement(Ae.a,null,r.a.createElement(P.a,{container:!0,direction:"row",justify:"space-evenly",alignItems:"flex-start"},r.a.createElement(P.a,{item:!0,md:6,className:"content__grid"},r.a.createElement(g.a,{variant:"h5",style:{color:"#c9620f"},gutterBottom:!0},y.a.get(t,"fromStation.province","")," -"," ",y.a.get(t,"toStation.province","")),r.a.createElement(g.a,{color:"textSecondary"},"Nh\xe0 xe: ",y.a.get(t,"company.name","")),r.a.createElement(g.a,{style:{marginBottom:"12px"},color:"textSecondary"},"Lo\u1ea1i gh\u1ebf ng\u1ed3i : ",y.a.get(t,"carType","")),r.a.createElement(g.a,{color:"textPrimary"},"\u0110i\u1ec3m xu\u1ea5t ph\xe1t: ",y.a.get(t,"fromStation.name","")),r.a.createElement(g.a,{color:"textPrimary"},"\u0110i\u1ec3m \u0111\u1ebfn: ",y.a.get(t,"toStation.name","")),r.a.createElement(g.a,{style:{marginBottom:"12px"},color:"textPrimary"},"Gi\u1edd kh\u1edfi h\xe0nh:"," ",r.a.createElement(ia.a,{format:" HH:mm DD/MM/YYYY"},y.a.get(t,"startTime","")))),r.a.createElement(P.a,{item:!0,md:6,className:"content__grid"},r.a.createElement(g.a,{color:"textSecondary"},"Gi\xe1 v\xe9:",r.a.createElement(na.a,{value:y.a.get(t,"price",""),displayType:"text",thousandSeparator:!0,suffix:" VND"})),r.a.createElement(g.a,{color:"textSecondary"},"M\xe3 s\u1ed1 gh\u1ebf: ",e.seats.map((function(e){return e.code})).join(", ")),r.a.createElement(g.a,{variant:"h6",color:"textPrimary"},"T\u1ed5ng ti\u1ec1n v\xe9 :"," ",r.a.createElement(na.a,{value:e.totalPrice,displayType:"text",thousandSeparator:!0,suffix:" VND"})),r.a.createElement(g.a,{style:{marginTop:"16px"},color:"textPrimary"},"S\u1ed1 \u0111i\u1ec7n tho\u1ea1i : ",e.phone?e.phone:""),r.a.createElement(g.a,{color:"textPrimary"},"\u0110\u1ecba ch\u1ec9 : ",e.address?e.address:""),r.a.createElement(g.a,{color:"textPrimary"},"Ghi ch\xfa : ",e.note?e.note:"")))),r.a.createElement(Fe.a,null,r.a.createElement("div",{style:{marginLeft:"auto"}},r.a.createElement(Qe,{id:e._id,deleteAction:this.props.deleteTicket,type:"V\xe9"}))))}}]),a}(n.Component),wa=Object(I.b)((function(e){return{trip:e.layout.tripEditing}}),null)(_a),Na=function(e){Object(s.a)(a,e);var t=Object(m.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"componentDidMount",value:function(){this.props.getTickets()}},{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement(ce.a,null),r.a.createElement(Ge.a,{maxWidth:"md"},r.a.createElement("h1",{className:"title_addnew"},"DANH S\xc1CH V\xc9 XE \u0110\xc3 \u0110\u1eb6T"),this.props.tickets.filter((function(t){return t.userId._id===e.props.user.userId})).map((function(t,a){return r.a.createElement(wa,{ticket:t,key:a,getTrip:e.props.getTripByIdClient,deleteTicket:e.props.deleteTicket})}))))}}]),a}(n.Component),Pa=Object(I.b)((function(e){return{tickets:e.tickets,user:e.auth.profile}}),{getTickets:nt,deleteTicket:ot,getTripByIdClient:function(e){return function(t){return b.get("/trips/".concat(e)).then((function(e){t({type:"GET_TRIPBYID",payload:e.data}),Promise.resolve(e.data)})).catch((function(e){return Promise.reject(e)}))}}})(Na),Ia=a(281),Ba=a(270),La=a(273),Da=a(269),Ma=function(e){Object(s.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).changeSeat=function(e){-1===n.state.seatCodes.indexOf(e)?n.setState({seatCodes:[].concat(Object(mt.a)(n.state.seatCodes),[e])},(function(){return n.props.selectSeat(n.state.seatCodes)})):n.setState({seatCodes:y.a.pull(n.state.seatCodes,e)},(function(){return n.props.selectSeat(n.state.seatCodes)}))},n.availableSeat=function(e){return!(n.props.seatDisable.indexOf(e)>-1)&&(n.props.seatCodes.indexOf(e)>-1?"primary":"")},n.renderSeats=function(){var e=y.a.get(n.props,"trip.seats",[]);return 8===e.length?r.a.createElement("div",null,r.a.createElement(Da.a,{variant:"contained","aria-label":"contained primary button group"},e.map((function(e,t){return r.a.createElement(h.a,{disabled:!1===n.availableSeat(e.code),color:n.availableSeat(e.code),key:t,onClick:function(){return n.changeSeat(e.code)}},e.code)})))):16===e.length?r.a.createElement("div",null,r.a.createElement(Da.a,{variant:"contained","aria-label":"contained primary button group"},e.slice(0,8).map((function(e,t){return r.a.createElement(h.a,{disabled:!1===n.availableSeat(e.code),color:n.availableSeat(e.code),key:t,onClick:function(){return n.changeSeat(e.code)}},e.code)}))),r.a.createElement(Da.a,{variant:"contained","aria-label":"contained primary button group"},e.slice(8,16).map((function(e,t){return r.a.createElement(h.a,{disabled:!1===n.availableSeat(e.code),color:n.availableSeat(e.code),key:t,onClick:function(){return n.changeSeat(e.code)}},e.code)})))):40===e.length?r.a.createElement("div",null,r.a.createElement(Da.a,{variant:"contained","aria-label":"contained primary button group"},e.slice(0,10).map((function(e,t){return r.a.createElement(h.a,{disabled:!1===n.availableSeat(e.code),color:n.availableSeat(e.code),key:t,onClick:function(){return n.changeSeat(e.code)}},e.code)}))),r.a.createElement(Da.a,{variant:"contained","aria-label":"contained primary button group"},e.slice(10,20).map((function(e,t){return r.a.createElement(h.a,{disabled:!1===n.availableSeat(e.code),color:n.availableSeat(e.code),key:t,onClick:function(){return n.changeSeat(e.code)}},e.code)}))),r.a.createElement(Da.a,{variant:"contained","aria-label":"contained primary button group",style:{marginTop:"20px"}},e.slice(20,30).map((function(e,t){return r.a.createElement(h.a,{disabled:!1===n.availableSeat(e.code),color:n.availableSeat(e.code),key:t,onClick:function(){return n.changeSeat(e.code)}},e.code)}))),r.a.createElement(Da.a,{variant:"contained","aria-label":"contained primary button group"},e.slice(30,40).map((function(e,t){return r.a.createElement(h.a,{disabled:!1===n.availableSeat(e.code),color:n.availableSeat(e.code),key:t,onClick:function(){return n.changeSeat(e.code)}},e.code)})))):r.a.createElement("div",null,r.a.createElement(Da.a,{variant:"contained","aria-label":"contained primary button group"},e.slice(0,10).map((function(e,t){return r.a.createElement(h.a,{disabled:!1===n.availableSeat(e.code),color:n.availableSeat(e.code),key:t,onClick:function(){return n.changeSeat(e.code)}},e.code)}))),r.a.createElement(Da.a,{variant:"contained","aria-label":"contained primary button group",style:{marginTop:"20px"}},e.slice(10,20).map((function(e,t){return r.a.createElement(h.a,{disabled:!1===n.availableSeat(e.code),color:n.availableSeat(e.code),key:t,onClick:function(){return n.changeSeat(e.code)}},e.code)}))))},n.state={seatCodes:e.seatCodes},n}return Object(l.a)(a,[{key:"render",value:function(){return r.a.createElement("div",null,this.renderSeats())}}]),a}(n.Component),Fa=function(e){Object(s.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).onChange=function(e){n.setState(Object(d.a)({},e.target.name,e.target.value),(function(){var e=n.state,t=e.phone,a=e.address,r=e.note;n.props.setInfo({phone:t,address:a,note:r})}))},n.state={phone:n.props.info.phone||"",address:n.props.info.address||"",note:n.props.info.note||""},n}return Object(l.a)(a,[{key:"render",value:function(){var e=this.state,t=e.phone,a=e.address,n=e.note;return r.a.createElement("div",{className:"add_station"},r.a.createElement("form",{autoComplete:"off"},r.a.createElement(f.a,{id:"phone",name:"phone",value:t,label:"S\u1ed1 \u0111i\u1ec7n tho\u1ea1i",variant:"outlined",style:{margin:"15px",width:"40%"},onChange:this.onChange}),r.a.createElement(f.a,{id:"address",name:"address",value:a,label:"\u0110\u1ecba ch\u1ec9",variant:"outlined",style:{margin:"15px",width:"40%"},onChange:this.onChange}),r.a.createElement(f.a,{id:"note",name:"note",value:n,label:"Ghi ch\xfa",variant:"outlined",style:{margin:"15px",width:"40%"},onChange:this.onChange})))}}]),a}(n.Component),Aa=Object(R.a)((function(e){return{root:{width:"100%"},backButton:{marginRight:e.spacing(1)},instructions:{marginTop:e.spacing(1),marginBottom:e.spacing(1)}}}));var Ga=Object(I.b)(null,{createTicket:rt,cancelBooking:it})((function(e){var t=Aa(),a=r.a.useState(0),n=Object(ee.a)(a,2),i=n[0],o=n[1],c=["Ch\u1ecdn gh\u1ebf tr\u1ed1ng","\u0110i\u1ec1n th\xf4ng tin c\xe1 nh\xe2n","X\xe1c nh\u1eadn thanh to\xe1n"],l=function(){o((function(e){return e+1}))};return r.a.createElement("div",{className:t.root},r.a.createElement(Ia.a,{activeStep:i,alternativeLabel:!0},c.map((function(e){return r.a.createElement(Ba.a,{key:e},r.a.createElement(La.a,null,e))}))),r.a.createElement("div",null,i===c.length?r.a.createElement("div",null,r.a.createElement(g.a,{className:t.instructions},"\u0110\u1eb7t v\xe9 th\xe0nh c\xf4ng, vui l\xf2ng ki\u1ec3m tra th\xf4ng tin trong email"),r.a.createElement(h.a,{onClick:function(){o(0)}},"\u0110\u1eb7t v\xe9 kh\xe1c")):r.a.createElement("div",null,r.a.createElement("div",{className:t.instructions},function(e,t){switch(e){case 0:return r.a.createElement(Ma,{trip:t.trip,backgroundSeat:t.backgroundSeat,seatCodes:t.seatCodes,seatDisable:t.seatDisable,selectSeat:t.selectSeat});case 1:return r.a.createElement(Fa,{info:t.info,setInfo:t.setInfo});case 2:var a=t.seatCodes.length*t.trip.price;return r.a.createElement("div",null,r.a.createElement(g.a,null,"Vui l\xf2ng ki\u1ec3m tra th\xf4ng tin gh\u1ebf v\xe0 t\u1ed5ng s\u1ed1 ti\u1ec1n tr\u01b0\u1edbc khi x\xe1c nh\u1eadn thanh to\xe1n!"),r.a.createElement(g.a,{variant:"h6"},"M\xe3 s\u1ed1 gh\u1ebf: ",t.seatCodes.join(", ")),r.a.createElement(g.a,{variant:"h6"},"T\u1ed5ng s\u1ed1 ti\u1ec1n:",r.a.createElement(na.a,{value:a,displayType:"text",thousandSeparator:!0,suffix:" VND"})));default:return"Unknown stepIndex"}}(i,e)),r.a.createElement("div",null,0===i?r.a.createElement(h.a,{onClick:function(){return e.cancelBooking()},className:t.backButton},"H\u1ee6Y"):r.a.createElement(h.a,{onClick:function(){o((function(e){return e-1}))},className:t.backButton},"TR\u1ede V\u1ec0"),2===i?r.a.createElement(h.a,{variant:"contained",color:"primary",onClick:function(){e.bookingTickets(),l()}},"HO\xc0N T\u1ea4T"):r.a.createElement(h.a,{disabled:0===e.seatCodes.length,variant:"contained",color:"primary",onClick:l},"TI\u1ebeP T\u1ee4C")))))})),Ha=function(e){Object(s.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).bookingTickets=function(){var e=n.state,t=e.trip,a=e.seatCodes,r=e.info,i={tripId:t._id,info:r,seatCodes:a};n.props.createTicket(i).then((function(){return n.props.getTripById(n.props.tripId)})).then((function(){n.setState({trip:n.props.trip,seatDisable:n.props.trip.seats.filter((function(e){return!0===e.isBooked})).map((function(e){return e.code}))})})).catch((function(e){return console.log(e)}))},n.setInfo=function(e){n.setState({info:e})},n.selectSeat=function(e){n.setState({seatCodes:e})},n.state={trip:{},seatCodes:[],info:{},seatDisable:[]},n}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=this.props.tripId;this.props.getTripById(t).then((function(){return e.setState({trip:e.props.trip,seatDisable:e.props.trip.seats.filter((function(e){return!0===e.isBooked})).map((function(e){return e.code}))})})).catch((function(e){return console.log(e)}))}},{key:"render",value:function(){return r.a.createElement(P.a,{container:!0,direction:"row",justify:"center",alignItems:"center"},y.a.get(this.state,"error")&&r.a.createElement(Q,{error:y.a.get(this.state,"error","")}),r.a.createElement(P.a,{container:!0,direction:"row",justify:"center",alignItems:"center"},r.a.createElement(Ga,{trip:this.state.trip,seatDisable:this.state.seatDisable,seatCodes:this.state.seatCodes,info:this.state.info,setInfo:this.setInfo,selectSeat:this.selectSeat,bookingTickets:this.bookingTickets})))}}]),a}(n.Component),Va=Object(I.b)((function(e){return{trip:e.layout.tripEditing}}),{getTripById:ta,createTicket:rt,cancelBooking:it})(Ha),Ua=Object(p.g)((function(e){var t=Je(),a=e.trip,n=e.tripEditing;return r.a.createElement(Me.a,{className:t.card},r.a.createElement(Ae.a,null,r.a.createElement(P.a,{container:!0,direction:"row",justify:"space-evenly",alignItems:"flex-start"},r.a.createElement(P.a,{item:!0,md:6},r.a.createElement(g.a,{variant:"h5",className:t.title,gutterBottom:!0},a.fromStation.province," - ",a.toStation.province),r.a.createElement(g.a,{variant:"h6",gutterBottom:!0,className:t.link},a.company.name),r.a.createElement(Ot.a,{className:t.image},r.a.createElement("img",{className:t.img,alt:"complex",src:a.company.image?a.company.image:"https://upload.wikimedia.org/wikipedia/vi/1/1a/Nh%C3%A0_ga_b%E1%BA%BFn_xe_mi%E1%BB%81n_%C4%90%C3%B4ng.JPG"}))),r.a.createElement(P.a,{item:!0,md:6},r.a.createElement(g.a,{variant:"h6",color:"primary"},"Gi\xe1 v\xe9 :"," ",r.a.createElement(na.a,{value:a.price,displayType:"text",thousandSeparator:!0,suffix:" VND"})),r.a.createElement(g.a,{color:"textPrimary",className:t.link},"\u0110i\u1ec3m xu\u1ea5t ph\xe1t : ",a.fromStation.name),r.a.createElement(g.a,{color:"textPrimary",className:t.link},"\u0110i\u1ec3m \u0111\u1ebfn : ",a.toStation.name),r.a.createElement(g.a,{color:"textPrimary"},"Gi\u1edd kh\u1edfi h\xe0nh:"," ",r.a.createElement(ia.a,{format:" HH:mm DD/MM/YYYY"},a.startTime)),r.a.createElement(g.a,{color:"textSecondary"},a.carType),r.a.createElement(g.a,{color:"textSecondary"},"S\u1ed1 gh\u1ebf tr\u1ed1ng: ",a.seats.filter((function(e){return!e.isBooked})).length," /"," ",a.seats.length))),r.a.createElement(Fe.a,null,n._id===a._id?r.a.createElement(Va,{tripId:a._id}):r.a.createElement(h.a,{size:"small",variant:"contained",style:{marginLeft:"auto"},onClick:function(){return e.getTripById(a._id)}},0===a.seats.filter((function(e){return!e.isBooked})).length?"H\u1ebft gh\u1ebf ":"Ch\u1ecdn gh\u1ebf"))))})),Ya={PaperProps:{style:{maxHeight:300,width:300}}},Ra=function(e){Object(s.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).onChange=function(e){n.setState(Object(d.a)({},e.target.name,e.target.value))},n.cancelFilter=function(){n.setState({companiesFilter:[],fromStationFilter:[],fromProvinceFilter:[],toStationFilter:[],toProvinceFilter:[]})},n.state={tripName:"",companiesList:[],stationsList:[],provinceList:[],companiesFilter:[],fromStationFilter:[],fromProvinceFilter:[],toStationFilter:[],toProvinceFilter:[]},n}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.props.getTrips(),this.props.getCompanies().then((function(){e.setState({companiesList:e.props.companies})})),this.props.getStations().then((function(){e.setState({stationsList:e.props.stations,provinceList:y.a.uniq(e.props.stations.map((function(e){return e.province})))})}))}},{key:"render",value:function(){var e=this,t=this.state,a=t.tripName,n=t.companiesList,i=t.stationsList,o=t.provinceList,c=t.companiesFilter,l=t.fromStationFilter,s=t.toStationFilter,m=t.fromProvinceFilter,u=t.toProvinceFilter,p=this.props.trips,d=[];a?p.filter((function(e){return(ut(e.fromStation.province)+ut(e.toStation.province)).indexOf(ut(a))>-1&&(d=[].concat(Object(mt.a)(d),[e])),e})):d=p;var g=[];g=c.length>0?p.filter((function(e){return c.indexOf(e.company._id)>-1})):p;var E=[];E=m.length>0?p.filter((function(e){return m.indexOf(e.fromStation.province)>-1})):p;var v=[];v=u.length>0?p.filter((function(e){return u.indexOf(e.toStation.province)>-1})):p;var b=[];b=l.length>0?p.filter((function(e){return l.indexOf(e.fromStation._id)>-1})):p;var C=[];C=s.length>0?p.filter((function(e){return s.indexOf(e.toStation._id)>-1})):p;var x=y.a.intersection(d,g,E,v,b,C);return r.a.createElement(r.a.Fragment,null,r.a.createElement(ce.a,null),r.a.createElement("h1",{className:"title_addnew"},"Danh s\xe1ch chuy\u1ebfn \u0111i"),r.a.createElement(P.a,{container:!0,direction:"row",justify:"space-evenly",alignItems:"flex-start"},r.a.createElement(P.a,{item:!0,md:1}),r.a.createElement(P.a,{item:!0,md:3},r.a.createElement(Me.a,null,r.a.createElement("h2",{className:"title_addnew"},"B\u1ed8 L\u1eccC & T\xccM KI\u1ebeM"),r.a.createElement("h3",{className:"title_addnew"},"T\u1ed5ng s\u1ed1 k\u1ebft qu\u1ea3 : ".concat(x.length)),r.a.createElement(h.a,{style:{justifyContent:"center"},variant:"contained",onClick:function(){return e.cancelFilter()}},"H\u1ee7y"),r.a.createElement(Ae.a,null,r.a.createElement(f.a,{id:"tripName",name:"tripName",value:a,label:"T\xecm chuy\u1ebfn \u0111i",variant:"outlined",style:{margin:"15px",width:"80%"},onChange:this.onChange}),r.a.createElement(dt.a,{style:{margin:"15px",width:"80%"}},r.a.createElement(Et.a,null,"Nh\xe0 xe"),r.a.createElement(ht.a,{multiple:!0,name:"companiesFilter",value:c,onChange:this.onChange,input:r.a.createElement(ft.a,null),renderValue:function(e){return r.a.createElement("div",{style:{display:"flex",flexWrap:"wrap"}},n.filter((function(t){return e.indexOf(t._id)>-1})).map((function(e){return r.a.createElement(Tt.a,{key:e._id,label:e.name,style:{margin:2}})})))},MenuProps:Ya},n.map((function(e){return r.a.createElement(pt.a,{key:e._id,value:e._id},r.a.createElement(gt.a,{checked:c.indexOf(e._id)>-1}),r.a.createElement(ye.a,{primary:e.name}))})))),r.a.createElement(dt.a,{style:{margin:"15px",width:"80%"}},r.a.createElement(Et.a,null,"N\u01a1i \u0111i"),r.a.createElement(ht.a,{multiple:!0,name:"fromProvinceFilter",value:m,onChange:this.onChange,input:r.a.createElement(ft.a,null),renderValue:function(e){return r.a.createElement("div",{style:{display:"flex",flexWrap:"wrap"}},e.map((function(e){return r.a.createElement(Tt.a,{key:e,label:e,style:{margin:2}})})))},MenuProps:Ya},o.map((function(e){return r.a.createElement(pt.a,{key:e,value:e},r.a.createElement(gt.a,{checked:m.indexOf(e)>-1}),r.a.createElement(ye.a,{primary:e}))})))),r.a.createElement(dt.a,{style:{margin:"15px",width:"80%"}},r.a.createElement(Et.a,null,"N\u01a1i \u0111\u1ebfn"),r.a.createElement(ht.a,{multiple:!0,name:"toProvinceFilter",value:u,onChange:this.onChange,input:r.a.createElement(ft.a,null),renderValue:function(e){return r.a.createElement("div",{style:{display:"flex",flexWrap:"wrap"}},e.map((function(e){return r.a.createElement(Tt.a,{key:e,label:e,style:{margin:2}})})))},MenuProps:Ya},o.map((function(e){return r.a.createElement(pt.a,{key:e,value:e},r.a.createElement(gt.a,{checked:u.indexOf(e)>-1}),r.a.createElement(ye.a,{primary:e}))})))),r.a.createElement(dt.a,{style:{margin:"15px",width:"80%"}},r.a.createElement(Et.a,null,"\u0110i\u1ec3m \u0111\xf3n kh\xe1ch"),r.a.createElement(ht.a,{multiple:!0,name:"fromStationFilter",value:l,onChange:this.onChange,input:r.a.createElement(ft.a,null),renderValue:function(e){return r.a.createElement("div",{style:{display:"flex",flexWrap:"wrap"}},i.filter((function(t){return e.indexOf(t._id)>-1})).map((function(e){return r.a.createElement(Tt.a,{key:e._id,label:e.name,style:{margin:2}})})))},MenuProps:Ya},i.map((function(e){return r.a.createElement(pt.a,{key:e._id,value:e._id},r.a.createElement(gt.a,{checked:l.indexOf(e._id)>-1}),r.a.createElement(ye.a,{primary:e.name}))})))),r.a.createElement(dt.a,{style:{margin:"15px",width:"80%"}},r.a.createElement(Et.a,null,"\u0110i\u1ec3m tr\u1ea3 kh\xe1ch"),r.a.createElement(ht.a,{multiple:!0,name:"toStationFilter",value:s,onChange:this.onChange,input:r.a.createElement(ft.a,null),renderValue:function(e){return r.a.createElement("div",{style:{display:"flex",flexWrap:"wrap"}},i.filter((function(t){return e.indexOf(t._id)>-1})).map((function(e){return r.a.createElement(Tt.a,{key:e._id,label:e.name,style:{margin:2}})})))},MenuProps:Ya},i.map((function(e){return r.a.createElement(pt.a,{key:e._id,value:e._id},r.a.createElement(gt.a,{checked:s.indexOf(e._id)>-1}),r.a.createElement(ye.a,{primary:e.name}))}))))))),r.a.createElement(P.a,{item:!0,md:8},x.map((function(t,a){return r.a.createElement(Ua,{trip:t,key:a,deleteTrip:e.props.deleteTrip,getTripById:e.props.getTripById,tripEditing:e.props.tripEditing})})))))}}]),a}(n.Component),Wa=Object(I.b)((function(e){return{trips:e.trips,tripEditing:e.layout.tripEditing,stations:e.stations,companies:e.companies}}),{getTrips:ea,getTripById:ta,deleteTrip:aa,getStations:yt,getCompanies:Ct})(Ra),za=function(e){Object(s.a)(a,e);var t=Object(m.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement("h2",null,"Ch\xe0o m\u1eebng b\u1ea1n \u0111\u1ebfn Vexere.com"),r.a.createElement(h.a,{variant:"contained",color:"primary",style:{margin:"15px"},onClick:function(){return e.props.history.push("/ticketmanager")}},"Qu\u1ea3n l\xfd v\xe9 xe \u0111\xe3 \u0111\u1eb7t"),r.a.createElement(Wa,null))}}]),a}(n.Component),Xa=function(e){Object(s.a)(a,e);var t=Object(m.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("h3",null,"PAGE NOT FOUND"))}}]),a}(n.Component),Ka=function(e){Object(s.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(c.a)(this,a),n=t.call(this,e),Be().token&&(k(Be().token),e.setCurrentUser(Be().decoded)),n}return Object(l.a)(a,[{key:"render",value:function(){var e=this.props.auth,t=e.isAuthenticate,a=e.profile;return r.a.createElement("div",{className:"App"},r.a.createElement(u.a,null,t&&"admin"===a.userType&&r.a.createElement(Ne,this.props),t&&"client"===a.userType&&r.a.createElement(Ie,this.props),r.a.createElement(p.d,null,r.a.createElement(p.b,{path:"/",exact:!0,render:function(e){return t&&"admin"===a.userType?r.a.createElement(sa,e):t&&"client"===a.userType?r.a.createElement(za,e):r.a.createElement(p.a,{to:"/login"})}}),r.a.createElement(p.b,{path:"/login",exact:!0,render:function(e){return t?r.a.createElement(p.a,{to:"/"}):r.a.createElement(q,e)}}),r.a.createElement(Le,{path:"/manager/trips",exact:!0,component:sa}),r.a.createElement(Le,{path:"/manager/trips/addtrip",exact:!0,component:va}),r.a.createElement(Le,{path:"/manager/trips/:id/edittrip",exact:!0,component:xa}),r.a.createElement(Le,{path:"/manager/trips/:id",exact:!0,component:ua}),r.a.createElement(De,{path:"/profile",exact:!0,component:Ve}),r.a.createElement(De,{path:"/updateprofile",exact:!0,component:Ye}),r.a.createElement(Le,{path:"/manager/tickets",exact:!0,component:Oa}),r.a.createElement(Le,{path:"/manager/tickets/:id",exact:!0,component:Ta}),r.a.createElement(Le,{path:"/manager/stations",exact:!0,component:Nt}),r.a.createElement(Le,{path:"/manager/stations/addstation",exact:!0,component:Bt}),r.a.createElement(Le,{path:"/manager/stations/:id/editstation",exact:!0,component:Mt}),r.a.createElement(Le,{path:"/manager/stations/:id/",exact:!0,component:At}),r.a.createElement(Le,{path:"/manager/companies",exact:!0,component:Yt}),r.a.createElement(Le,{path:"/manager/companies/addcompany",exact:!0,component:Xt}),r.a.createElement(Le,{path:"/manager/companies/:id/editcompany",exact:!0,component:qt}),r.a.createElement(Le,{path:"/manager/companies/:id/",exact:!0,component:Zt}),r.a.createElement(Le,{path:"/manager/users",exact:!0,component:Ze}),r.a.createElement(Le,{path:"/manager/users/:id",exact:!0,component:st}),r.a.createElement(De,{path:"/ticketmanager",exact:!0,component:Pa}),r.a.createElement(p.b,{path:"/signup",component:Z}),r.a.createElement(p.b,{path:"/*",component:Xa}),r.a.createElement(p.b,{path:"/notfound",component:Xa}))))}}]),a}(n.Component),Qa=Object(I.b)((function(e){return{auth:e.auth}}),{setCurrentUser:j})(Ka);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Ja=a(80),qa={isAuthenticate:!1,profile:{}},$a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qa,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_CURRENT_USER":return Object(te.a)(Object(te.a)({},e),{},{isAuthenticate:!y.a.isEmpty(t.payload),profile:t.payload})}return e},Za=[],en=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Za,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_TRIPS":return t.payload;case"CREATE_TRIP":return[].concat(Object(mt.a)(e),[t.payload]);case"UPDATE_TRIP":var a=t.payload,n=e.findIndex((function(e){return e._id===a._id}));return e[n]=a,Object(mt.a)(e);default:return e}},tn=[],an=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:tn,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_STATIONS":return t.payload;case"CREATE_STATION":return[].concat(Object(mt.a)(e),[t.payload]);case"UPDATE_STATION":var a=t.payload,n=e.findIndex((function(e){return e._id===a._id}));return e[n]=a,Object(mt.a)(e);default:return e}},nn=[],rn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:nn,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_COMPANIES":return t.payload;case"CREATE_COMPANY":return[].concat(Object(mt.a)(e),[t.payload]);case"UPDATE_COMPANY":var a=t.payload,n=e.findIndex((function(e){return e._id===a._id}));return e[n]=a,Object(mt.a)(e);default:return e}},on=[],cn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:on,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_TICKETS":return t.payload;case"CREATE_TICKET":return[].concat(Object(mt.a)(e),[t.payload]);default:return e}},ln=[],sn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ln,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_USERS":return t.payload;default:return e}},mn={stationEditing:{},companyEditing:{},tripEditing:{},userEditing:{},ticketEditing:{},adviceCompany:[]},un=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:mn,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_STATIONBYID":return Object(te.a)(Object(te.a)({},e),{},{stationEditing:t.payload});case"GET_COMPANYBYID":return Object(te.a)(Object(te.a)({},e),{},{companyEditing:t.payload});case"GET_TRIPBYID":return Object(te.a)(Object(te.a)({},e),{},{tripEditing:t.payload});case"GET_TICKETBYID":return Object(te.a)(Object(te.a)({},e),{},{ticketEditing:t.payload});case"GET_USERBYID":return Object(te.a)(Object(te.a)({},e),{},{userEditing:t.payload});case"CANCEL_BOOKING":return Object(te.a)(Object(te.a)({},e),{},{tripEditing:{}});case"GET_ADVICECOMPANY":return Object(te.a)(Object(te.a)({},e),{},{adviceCompany:t.payload});default:return e}},pn=Object(Ja.c)({auth:$a,trips:en,stations:an,companies:rn,tickets:cn,users:sn,layout:un}),dn=[a(155).a],hn=Object(Ja.e)(pn,{},Object(Ja.d)(Ja.a.apply(void 0,dn),window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__()));o.a.render(r.a.createElement(I.a,{store:hn},r.a.createElement(Qa,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},55:function(e){e.exports=JSON.parse('{"card":{"minWidth":275,"margin":20},"title":{"color":"#c9620f"},"link":{"color":"#0b6077d6","textDecoration":"none","fontSize":"16px","display":"block"},"image":{"width":200,"height":160},"img":{"margin":"auto","display":"block","maxWidth":"100%","maxHeight":"100%"}}')}},[[169,1,2]]]);
//# sourceMappingURL=main.c5b82523.chunk.js.map